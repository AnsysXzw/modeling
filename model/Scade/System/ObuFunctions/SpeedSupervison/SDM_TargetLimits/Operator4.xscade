<?xml version="1.0" encoding="UTF-8"?>
<File xmlns="http://www.esterel-technologies.com/ns/scade/4" xmlns:ed="http://www.esterel-technologies.com/ns/scade/pragmas/editor/4" xmlns:kcg="http://www.esterel-technologies.com/ns/scade/pragmas/codegen/2">
	<declarations>
		<Operator kind="function" name="getLocationOnCurveArc">
			<inputs>
				<Variable name="arc">
					<type>
						<NamedType>
							<type>
								<TypeRef name="CalcBrakingCurves_types::ParabolaArc_T"/>
							</type>
						</NamedType>
					</type>
					<pragmas>
						<ed:Variable oid="!ed/3071e/B26/4FC/54e74c267c5b"/>
					</pragmas>
				</Variable>
				<Variable name="v_est">
					<type>
						<NamedType>
							<type>
								<TypeRef name="SDM_Types_Pkg::V_internal_real_Type"/>
							</type>
						</NamedType>
					</type>
					<pragmas>
						<ed:Variable oid="!ed/3073b/B26/4FC/54e74cdd4374"/>
					</pragmas>
				</Variable>
			</inputs>
			<outputs>
				<Variable name="location">
					<type>
						<NamedType>
							<type>
								<TypeRef name="SDM_Types_Pkg::L_internal_real_Type"/>
							</type>
						</NamedType>
					</type>
					<pragmas>
						<ed:Variable oid="!ed/30731/B26/4FC/54e74cc54539"/>
					</pragmas>
				</Variable>
			</outputs>
			<locals>
				<Variable name="_L1">
					<type>
						<NamedType>
							<type>
								<TypeRef name="CalcBrakingCurves_types::ParabolaArc_T"/>
							</type>
						</NamedType>
					</type>
					<pragmas>
						<ed:Variable oid="!ed/30931/B26/4FC/54e754af4882"/>
					</pragmas>
				</Variable>
				<Variable name="_L2">
					<type>
						<NamedType>
							<type>
								<TypeRef name="SDM_Types_Pkg::V_internal_real_Type"/>
							</type>
						</NamedType>
					</type>
					<pragmas>
						<ed:Variable oid="!ed/30939/B26/4FC/54e754b3496d"/>
					</pragmas>
				</Variable>
				<Variable name="_L5">
					<type>
						<NamedType>
							<type>
								<TypeRef name="real"/>
							</type>
						</NamedType>
					</type>
					<pragmas>
						<ed:Variable oid="!ed/3094c/B26/4FC/54e754db4c9a"/>
					</pragmas>
				</Variable>
				<Variable name="_L4">
					<type>
						<NamedType>
							<type>
								<TypeRef name="real"/>
							</type>
						</NamedType>
					</type>
					<pragmas>
						<ed:Variable oid="!ed/3094b/B26/4FC/54e754db7105"/>
					</pragmas>
				</Variable>
				<Variable name="_L3">
					<type>
						<NamedType>
							<type>
								<TypeRef name="real"/>
							</type>
						</NamedType>
					</type>
					<pragmas>
						<ed:Variable oid="!ed/3094a/B26/4FC/54e754db7e72"/>
					</pragmas>
				</Variable>
				<Variable name="_L6">
					<type>
						<NamedType>
							<type>
								<TypeRef name="real"/>
							</type>
						</NamedType>
					</type>
					<pragmas>
						<ed:Variable oid="!ed/30968/B26/4FC/54e7591b7667"/>
					</pragmas>
				</Variable>
				<Variable name="_L7">
					<type>
						<NamedType>
							<type>
								<TypeRef name="real"/>
							</type>
						</NamedType>
					</type>
					<pragmas>
						<ed:Variable oid="!ed/30970/B26/4FC/54e759233794"/>
					</pragmas>
				</Variable>
				<Variable name="_L9">
					<type>
						<NamedType>
							<type>
								<TypeRef name="real"/>
							</type>
						</NamedType>
					</type>
					<pragmas>
						<ed:Variable oid="!ed/30982/B26/4FC/54e7595f5a2f"/>
					</pragmas>
				</Variable>
				<Variable name="_L10">
					<type>
						<NamedType>
							<type>
								<TypeRef name="real"/>
							</type>
						</NamedType>
					</type>
					<pragmas>
						<ed:Variable oid="!ed/3098a/B26/4FC/54e75966199c"/>
					</pragmas>
				</Variable>
				<Variable name="_L11">
					<type>
						<NamedType>
							<type>
								<TypeRef name="real"/>
							</type>
						</NamedType>
					</type>
					<pragmas>
						<ed:Variable oid="!ed/30992/B26/4FC/54e759786d37"/>
					</pragmas>
				</Variable>
				<Variable name="_L12">
					<type>
						<NamedType>
							<type>
								<TypeRef name="real"/>
							</type>
						</NamedType>
					</type>
					<pragmas>
						<ed:Variable oid="!ed/3099a/B26/4FC/54e759955558"/>
					</pragmas>
				</Variable>
			</locals>
			<data>
				<!-- _L1 = arc; -->
				<Equation>
					<lefts>
						<VariableRef name="_L1"/>
					</lefts>
					<right>
						<IdExpression>
							<path>
								<ConstVarRef name="arc"/>
							</path>
						</IdExpression>
					</right>
					<pragmas>
						<ed:Equation oid="!ed/30930/B26/4FC/54e754af17ed"/>
					</pragmas>
				</Equation>
				<!-- _L2 = v_est; -->
				<Equation>
					<lefts>
						<VariableRef name="_L2"/>
					</lefts>
					<right>
						<IdExpression>
							<path>
								<ConstVarRef name="v_est"/>
							</path>
						</IdExpression>
					</right>
					<pragmas>
						<ed:Equation oid="!ed/30938/B26/4FC/54e754b37ebd"/>
					</pragmas>
				</Equation>
				<!-- location = _L6; -->
				<Equation>
					<lefts>
						<VariableRef name="location"/>
					</lefts>
					<right>
						<IdExpression>
							<path>
								<ConstVarRef name="_L6"/>
							</path>
						</IdExpression>
					</right>
					<pragmas>
						<ed:Equation oid="!ed/3093f/B26/4FC/54e754b635"/>
					</pragmas>
				</Equation>
				<!-- _L5, _L4, _L3 = (flatten CalcBrakingCurves_types::ParabolaArc_T)(_L1); -->
				<Equation>
					<lefts>
						<VariableRef name="_L5"/>
						<VariableRef name="_L4"/>
						<VariableRef name="_L3"/>
					</lefts>
					<right>
						<!-- (flatten CalcBrakingCurves_types::ParabolaArc_T)(_L1) -->
						<CallExpression>
							<operator>
								<FlattenOp name="1">
									<type>
										<TypeRef name="CalcBrakingCurves_types::ParabolaArc_T"/>
									</type>
								</FlattenOp>
							</operator>
							<callParameters>
								<IdExpression>
									<path>
										<ConstVarRef name="_L1"/>
									</path>
								</IdExpression>
							</callParameters>
						</CallExpression>
					</right>
					<pragmas>
						<ed:Equation oid="!ed/30945/B26/4FC/54e754c6b28"/>
					</pragmas>
				</Equation>
				<!-- _L6 = _L5 - _L7; -->
				<Equation>
					<lefts>
						<VariableRef name="_L6"/>
					</lefts>
					<right>
						<!-- _L5 - _L7 -->
						<BinaryOp name="1" operator="-">
							<operands>
								<IdExpression>
									<path>
										<ConstVarRef name="_L5"/>
									</path>
								</IdExpression>
								<IdExpression>
									<path>
										<ConstVarRef name="_L7"/>
									</path>
								</IdExpression>
							</operands>
						</BinaryOp>
					</right>
					<pragmas>
						<ed:Equation oid="!ed/30967/B26/4FC/54e7591b340e"/>
					</pragmas>
				</Equation>
				<!-- _L7 = _L11 / _L12; -->
				<Equation>
					<lefts>
						<VariableRef name="_L7"/>
					</lefts>
					<right>
						<!-- _L11 / _L12 -->
						<BinaryOp name="1" operator="/">
							<operands>
								<IdExpression>
									<path>
										<ConstVarRef name="_L11"/>
									</path>
								</IdExpression>
								<IdExpression>
									<path>
										<ConstVarRef name="_L12"/>
									</path>
								</IdExpression>
							</operands>
						</BinaryOp>
					</right>
					<pragmas>
						<ed:Equation oid="!ed/3096f/B26/4FC/54e759236e0a"/>
					</pragmas>
				</Equation>
				<!-- _L9 = _L4 * _L4; -->
				<Equation>
					<lefts>
						<VariableRef name="_L9"/>
					</lefts>
					<right>
						<!-- _L4 * _L4 -->
						<NAryOp name="1" operator="*">
							<operands>
								<IdExpression>
									<path>
										<ConstVarRef name="_L4"/>
									</path>
								</IdExpression>
								<IdExpression>
									<path>
										<ConstVarRef name="_L4"/>
									</path>
								</IdExpression>
							</operands>
						</NAryOp>
					</right>
					<pragmas>
						<ed:Equation oid="!ed/30981/B26/4FC/54e7595f77e1"/>
					</pragmas>
				</Equation>
				<!-- _L10 = _L2 * _L2; -->
				<Equation>
					<lefts>
						<VariableRef name="_L10"/>
					</lefts>
					<right>
						<!-- _L2 * _L2 -->
						<NAryOp name="2" operator="*">
							<operands>
								<IdExpression>
									<path>
										<ConstVarRef name="_L2"/>
									</path>
								</IdExpression>
								<IdExpression>
									<path>
										<ConstVarRef name="_L2"/>
									</path>
								</IdExpression>
							</operands>
						</NAryOp>
					</right>
					<pragmas>
						<ed:Equation oid="!ed/30989/B26/4FC/54e7596667ba"/>
					</pragmas>
				</Equation>
				<!-- _L11 = _L9 - _L10; -->
				<Equation>
					<lefts>
						<VariableRef name="_L11"/>
					</lefts>
					<right>
						<!-- _L9 - _L10 -->
						<BinaryOp name="2" operator="-">
							<operands>
								<IdExpression>
									<path>
										<ConstVarRef name="_L9"/>
									</path>
								</IdExpression>
								<IdExpression>
									<path>
										<ConstVarRef name="_L10"/>
									</path>
								</IdExpression>
							</operands>
						</BinaryOp>
					</right>
					<pragmas>
						<ed:Equation oid="!ed/30991/B26/4FC/54e75978ad5"/>
					</pragmas>
				</Equation>
				<!-- _L12 = _L3 + _L3; -->
				<Equation>
					<lefts>
						<VariableRef name="_L12"/>
					</lefts>
					<right>
						<!-- _L3 + _L3 -->
						<NAryOp name="1" operator="+">
							<operands>
								<IdExpression>
									<path>
										<ConstVarRef name="_L3"/>
									</path>
								</IdExpression>
								<IdExpression>
									<path>
										<ConstVarRef name="_L3"/>
									</path>
								</IdExpression>
							</operands>
						</NAryOp>
					</right>
					<pragmas>
						<ed:Equation oid="!ed/30999/B26/4FC/54e7599524f5"/>
					</pragmas>
				</Equation>
				<Assertion kind="assume" name="A1">
					<definition>
						<!-- arc.acceleration > 0.0 -->
						<BinaryOp name="2" operator="&gt;">
							<operands>
								<!-- arc.acceleration -->
								<PrjOp name="1">
									<flow>
										<IdExpression>
											<path>
												<ConstVarRef name="arc"/>
											</path>
										</IdExpression>
									</flow>
									<with>
										<Label name="acceleration"/>
									</with>
								</PrjOp>
								<ConstValue value="0.0"/>
							</operands>
						</BinaryOp>
					</definition>
					<pragmas>
						<ed:Assertion oid="!ed/309a0/B26/4FC/54e75c9c1c9b"/>
					</pragmas>
				</Assertion>
			</data>
			<pragmas>
				<ed:Operator oid="!ed/3071c/B26/4FC/54e74b9d782" xmlns="http://www.esterel-technologies.com/ns/scade/pragmas/editor/4">
					<comment>Calculate the specific @location where the given speed @v_est intersects the deceleration arc defined by its acceleration magnitude, the speed and the location (arc::distance) at the end of the arc.</comment>
					<comment>This will implode badly if the deceleration is 0.</comment>
					<diagrams>
						<NetDiagram name="diagram_getLocationOnCurveArc_1" landscape="true" format="A4 (210 297)" oid="!ed/3071d/B26/4FC/54e74b9d51a2">
							<presentationElements>
								<EquationGE presentable="!ed/30930/B26/4FC/54e754af17ed">
									<position>
										<Point x="900" y="3731"/>
									</position>
									<size>
										<Size width="265" height="502"/>
									</size>
								</EquationGE>
								<EquationGE presentable="!ed/30938/B26/4FC/54e754b37ebd">
									<position>
										<Point x="8334" y="4551"/>
									</position>
									<size>
										<Size width="264" height="503"/>
									</size>
								</EquationGE>
								<EquationGE presentable="!ed/3093f/B26/4FC/54e754b635">
									<position>
										<Point x="17304" y="3731"/>
									</position>
									<size>
										<Size width="318" height="502"/>
									</size>
								</EquationGE>
								<EquationGE presentable="!ed/30945/B26/4FC/54e754c6b28">
									<position>
										<Point x="1958" y="688"/>
									</position>
									<size>
										<Size width="4196" height="6605"/>
									</size>
								</EquationGE>
								<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/30930/B26/4FC/54e754af17ed" dstEquation="!ed/30945/B26/4FC/54e754c6b28">
									<positions>
										<Point x="1164" y="3995"/>
										<Point x="1561" y="3995"/>
										<Point x="1561" y="3995"/>
										<Point x="1958" y="3995"/>
									</positions>
								</Edge>
								<EquationGE presentable="!ed/30967/B26/4FC/54e7591b340e">
									<position>
										<Point x="15769" y="3651"/>
									</position>
									<size>
										<Size width="1005" height="661"/>
									</size>
								</EquationGE>
								<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/30967/B26/4FC/54e7591b340e" dstEquation="!ed/3093f/B26/4FC/54e754b635">
									<positions>
										<Point x="16775" y="3995"/>
										<Point x="17066" y="3995"/>
										<Point x="17066" y="3995"/>
										<Point x="17357" y="3995"/>
									</positions>
								</Edge>
								<EquationGE presentable="!ed/3096f/B26/4FC/54e759236e0a">
									<position>
										<Point x="13653" y="4524"/>
									</position>
									<size>
										<Size width="1006" height="661"/>
									</size>
								</EquationGE>
								<Edge leftVarIndex="1" rightExprIndex="2" srcEquation="!ed/3096f/B26/4FC/54e759236e0a" dstEquation="!ed/30967/B26/4FC/54e7591b340e">
									<positions>
										<Point x="14658" y="4868"/>
										<Point x="15187" y="4868"/>
										<Point x="15187" y="4101"/>
										<Point x="15769" y="4101"/>
									</positions>
								</Edge>
								<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/30945/B26/4FC/54e754c6b28" dstEquation="!ed/30967/B26/4FC/54e7591b340e">
									<positions>
										<Point x="6165" y="2355"/>
										<Point x="15187" y="2355"/>
										<Point x="15187" y="3863"/>
										<Point x="15769" y="3863"/>
									</positions>
								</Edge>
								<EquationGE presentable="!ed/30981/B26/4FC/54e7595f77e1">
									<position>
										<Point x="9419" y="3651"/>
									</position>
									<size>
										<Size width="1006" height="661"/>
									</size>
								</EquationGE>
								<EquationGE presentable="!ed/30989/B26/4FC/54e7596667ba">
									<position>
										<Point x="9446" y="4471"/>
									</position>
									<size>
										<Size width="1006" height="662"/>
									</size>
								</EquationGE>
								<Edge leftVarIndex="2" rightExprIndex="1" srcEquation="!ed/30945/B26/4FC/54e754c6b28" dstEquation="!ed/30981/B26/4FC/54e7595f77e1">
									<positions>
										<Point x="6165" y="3995"/>
										<Point x="8996" y="3995"/>
										<Point x="8996" y="3863"/>
										<Point x="9419" y="3863"/>
									</positions>
								</Edge>
								<Edge leftVarIndex="2" rightExprIndex="2" srcEquation="!ed/30945/B26/4FC/54e754c6b28" dstEquation="!ed/30981/B26/4FC/54e7595f77e1">
									<positions>
										<Point x="6165" y="3995"/>
										<Point x="8996" y="3995"/>
										<Point x="8996" y="4101"/>
										<Point x="9419" y="4101"/>
									</positions>
								</Edge>
								<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/30938/B26/4FC/54e754b37ebd" dstEquation="!ed/30989/B26/4FC/54e7596667ba">
									<positions>
										<Point x="8599" y="4815"/>
										<Point x="8969" y="4815"/>
										<Point x="8969" y="4683"/>
										<Point x="9446" y="4683"/>
									</positions>
								</Edge>
								<Edge leftVarIndex="1" rightExprIndex="2" srcEquation="!ed/30938/B26/4FC/54e754b37ebd" dstEquation="!ed/30989/B26/4FC/54e7596667ba">
									<positions>
										<Point x="8599" y="4815"/>
										<Point x="8969" y="4815"/>
										<Point x="8969" y="4921"/>
										<Point x="9446" y="4921"/>
									</positions>
								</Edge>
								<EquationGE presentable="!ed/30991/B26/4FC/54e75978ad5">
									<position>
										<Point x="11695" y="4075"/>
									</position>
									<size>
										<Size width="1005" height="662"/>
									</size>
								</EquationGE>
								<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/30981/B26/4FC/54e7595f77e1" dstEquation="!ed/30991/B26/4FC/54e75978ad5">
									<positions>
										<Point x="10425" y="3995"/>
										<Point x="11060" y="3995"/>
										<Point x="11060" y="4286"/>
										<Point x="11695" y="4286"/>
									</positions>
								</Edge>
								<Edge leftVarIndex="1" rightExprIndex="2" srcEquation="!ed/30989/B26/4FC/54e7596667ba" dstEquation="!ed/30991/B26/4FC/54e75978ad5">
									<positions>
										<Point x="10451" y="4815"/>
										<Point x="11060" y="4815"/>
										<Point x="11060" y="4524"/>
										<Point x="11695" y="4524"/>
									</positions>
								</Edge>
								<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/30991/B26/4FC/54e75978ad5" dstEquation="!ed/3096f/B26/4FC/54e759236e0a">
									<positions>
										<Point x="12700" y="4419"/>
										<Point x="13176" y="4419"/>
										<Point x="13176" y="4736"/>
										<Point x="13653" y="4736"/>
									</positions>
								</Edge>
								<EquationGE presentable="!ed/30999/B26/4FC/54e7599524f5">
									<position>
										<Point x="9446" y="5292"/>
									</position>
									<size>
										<Size width="1006" height="661"/>
									</size>
								</EquationGE>
								<Edge leftVarIndex="3" rightExprIndex="1" srcEquation="!ed/30945/B26/4FC/54e754c6b28" dstEquation="!ed/30999/B26/4FC/54e7599524f5">
									<positions>
										<Point x="6165" y="5662"/>
										<Point x="8811" y="5662"/>
										<Point x="8811" y="5503"/>
										<Point x="9446" y="5503"/>
									</positions>
								</Edge>
								<Edge leftVarIndex="3" rightExprIndex="2" srcEquation="!ed/30945/B26/4FC/54e754c6b28" dstEquation="!ed/30999/B26/4FC/54e7599524f5">
									<positions>
										<Point x="6165" y="5662"/>
										<Point x="8811" y="5662"/>
										<Point x="8811" y="5741"/>
										<Point x="9446" y="5741"/>
									</positions>
								</Edge>
								<Edge leftVarIndex="1" rightExprIndex="2" srcEquation="!ed/30999/B26/4FC/54e7599524f5" dstEquation="!ed/3096f/B26/4FC/54e759236e0a">
									<positions>
										<Point x="10451" y="5636"/>
										<Point x="13176" y="5636"/>
										<Point x="13176" y="4974"/>
										<Point x="13653" y="4974"/>
									</positions>
								</Edge>
								<AssertionGE presentable="!ed/309a0/B26/4FC/54e75c9c1c9b">
									<position>
										<Point x="1931" y="7938"/>
									</position>
									<size>
										<Size width="0" height="0"/>
									</size>
								</AssertionGE>
							</presentationElements>
						</NetDiagram>
					</diagrams>
				</ed:Operator>
			</pragmas>
		</Operator>
	</declarations>
</File>
