<?xml version="1.0" encoding="UTF-8"?>
<File xmlns="http://www.esterel-technologies.com/ns/scade/4" xmlns:ed="http://www.esterel-technologies.com/ns/scade/pragmas/editor/4" xmlns:kcg="http://www.esterel-technologies.com/ns/scade/pragmas/codegen/2">
	<declarations>
		<Package name="TrainPosition_Integration_Pkg">
			<declarations>
				<Operator kind="node" name="ManageTrainPosition">
					<inputs>
						<Variable name="currentOdometry">
							<type>
								<NamedType>
									<type>
										<TypeRef name="Obu_BasicTypes_Pkg::odometry_T"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/c9e81/4783/31B8/53df7f732779" xmlns="http://www.esterel-technologies.com/ns/scade/pragmas/editor/4">
									<comment>The current odometry values</comment>
								</ed:Variable>
							</pragmas>
						</Variable>
						<Variable name="passedBG">
							<type>
								<NamedType>
									<type>
										<TypeRef name="BG_Types_Pkg::passedBG_T"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/c9e88/4783/31B8/53df7f7378be" xmlns="http://www.esterel-technologies.com/ns/scade/pragmas/editor/4">
									<comment>Input event reporting a balise group during its passage, if there is one.</comment>
								</ed:Variable>
							</pragmas>
						</Variable>
						<Variable name="LRBG">
							<type>
								<NamedType>
									<type>
										<TypeRef name="TrainPosition_Types_Pck::positionedBG_T"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/c9e8f/4783/31B8/53df7f7316c5" xmlns="http://www.esterel-technologies.com/ns/scade/pragmas/editor/4">
									<comment>The LRBG used for RBC communication.</comment>
								</ed:Variable>
							</pragmas>
						</Variable>
						<Variable name="prevLRBG">
							<type>
								<NamedType>
									<type>
										<TypeRef name="TrainPosition_Types_Pck::positionedBG_T"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/c9e96/4783/31B8/53df7f733359" xmlns="http://www.esterel-technologies.com/ns/scade/pragmas/editor/4">
									<comment>A previously used LRBG used in RBC communication.</comment>
								</ed:Variable>
							</pragmas>
						</Variable>
						<Variable name="reset">
							<type>
								<NamedType>
									<type>
										<TypeRef name="bool"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/c9e9c/4783/31B8/53df7f733cf" xmlns="http://www.esterel-technologies.com/ns/scade/pragmas/editor/4">
									<comment>Resets all to an initials state and deletes all stored BGs.</comment>
								</ed:Variable>
							</pragmas>
						</Variable>
						<Variable name="systemTime">
							<type>
								<NamedType>
									<type>
										<TypeRef name="ProvidePositionReport_Pkg::SystemTime_T"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/c9eb1/4783/31B8/53df8061479e"/>
							</pragmas>
						</Variable>
						<Variable name="errorMsg">
							<type>
								<NamedType>
									<type>
										<TypeRef name="ProvidePositionReport_Pkg::ErrorMessage_T"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/5b4fc/222E/14A8/53e08d436300"/>
							</pragmas>
						</Variable>
						<Variable name="posRepPara">
							<type>
								<NamedType>
									<type>
										<TypeRef name="ProvidePositionReport_Pkg::PositionReportParameter_T"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/5b509/222E/14A8/53e0905f12a"/>
							</pragmas>
						</Variable>
						<Variable name="trackInfo">
							<type>
								<NamedType>
									<type>
										<TypeRef name="ProvidePositionReport_Pkg::TrackInfo_T"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/33c58/1C70/91C/53ea28b8217b"/>
							</pragmas>
						</Variable>
						<Variable name="trainProps">
							<type>
								<NamedType>
									<type>
										<TypeRef name="TrainPosition_Types_Pck::trainProperties_T"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/67880/1C70/91C/53ea54034498"/>
							</pragmas>
						</Variable>
						<Variable name="rcbComm">
							<type>
								<NamedType>
									<type>
										<TypeRef name="ProvidePositionReport_Pkg::RBC_Communication_T"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/6789c/1C70/91C/53ea57044245"/>
							</pragmas>
						</Variable>
						<Variable name="train2trackStatus">
							<type>
								<NamedType>
									<type>
										<TypeRef name="BG_Types_Pkg::TrainToTrackStatus_T"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/678a3/1C70/91C/53ea5704935"/>
							</pragmas>
						</Variable>
						<Variable name="linkingInfoUsed">
							<type>
								<NamedType>
									<type>
										<TypeRef name="ProvidePositionReport_Pkg::LinkingInfoUsedOnBoard"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/178f5/29E6/1F98/53fdb4a23b42"/>
							</pragmas>
						</Variable>
					</inputs>
					<outputs>
						<Variable name="posRep">
							<type>
								<NamedType>
									<type>
										<TypeRef name="ProvidePositionReport_Pkg::PositionReport_T"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/c9eb8/4783/31B8/53df806165eb"/>
							</pragmas>
						</Variable>
						<Variable name="trainPosition">
							<type>
								<NamedType>
									<type>
										<TypeRef name="TrainPosition_Types_Pck::trainPosition_T"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/133cb/78D6/1C90/5405869bc2b"/>
							</pragmas>
						</Variable>
						<Variable name="trainPosInfo">
							<type>
								<NamedType>
									<type>
										<TypeRef name="TrainPosition_Types_Pck::trainPositionInfo_T"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/33c6e/1C70/91C/53ea29d27a39" xmlns="http://www.esterel-technologies.com/ns/scade/pragmas/editor/4">
									<comment>The resulting train position with reference to the LRBG</comment>
								</ed:Variable>
							</pragmas>
						</Variable>
						<Variable name="trainPosErrors">
							<type>
								<NamedType>
									<type>
										<TypeRef name="TrainPosition_Types_Pck::positionErrors_T"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/33c75/1C70/91C/53ea29d22403" xmlns="http://www.esterel-technologies.com/ns/scade/pragmas/editor/4">
									<comment>Errors and inconsistencies detected by the calculation.</comment>
								</ed:Variable>
							</pragmas>
						</Variable>
						<Variable name="BGs">
							<type>
								<NamedType>
									<type>
										<TypeRef name="TrainPosition_Types_Pck::positionedBGs_T"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/133e0/78D6/1C90/5405877b2493" xmlns="http://www.esterel-technologies.com/ns/scade/pragmas/editor/4">
									<comment>The collection of currently known BGs.</comment>
								</ed:Variable>
							</pragmas>
						</Variable>
					</outputs>
					<locals>
						<Variable name="trainPosition_loc">
							<type>
								<NamedType>
									<type>
										<TypeRef name="TrainPosition_Types_Pck::trainPosition_T"/>
									</type>
								</NamedType>
							</type>
							<last>
								<IdExpression>
									<path>
										<ConstVarRef name="CalculateTrainPosition_Pkg::cTrainPosition_0"/>
									</path>
								</IdExpression>
							</last>
							<pragmas>
								<ed:Variable oid="!ed/133a4/78D6/1C90/5405849a3ade"/>
							</pragmas>
						</Variable>
						<Variable name="_L4">
							<type>
								<NamedType>
									<type>
										<TypeRef name="TrainPosition_Types_Pck::positionErrors_T"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/c9e70/4783/31B8/53df7e4a1ee5"/>
							</pragmas>
						</Variable>
						<Variable name="_L3">
							<type>
								<NamedType>
									<type>
										<TypeRef name="TrainPosition_Types_Pck::positionedBGs_T"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/c9e6f/4783/31B8/53df7e4a5a74"/>
							</pragmas>
						</Variable>
						<Variable name="_L2">
							<type>
								<NamedType>
									<type>
										<TypeRef name="TrainPosition_Types_Pck::trainPositionInfo_T"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/c9e6e/4783/31B8/53df7e4a5d9d"/>
							</pragmas>
						</Variable>
						<Variable name="_L1">
							<type>
								<NamedType>
									<type>
										<TypeRef name="TrainPosition_Types_Pck::trainPosition_T"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/c9e6d/4783/31B8/53df7e4a3d66"/>
							</pragmas>
						</Variable>
						<Variable name="_L6">
							<type>
								<NamedType>
									<type>
										<TypeRef name="Obu_BasicTypes_Pkg::odometry_T"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/c9e9e/4783/31B8/53df7f76779a"/>
							</pragmas>
						</Variable>
						<Variable name="_L7">
							<type>
								<NamedType>
									<type>
										<TypeRef name="BG_Types_Pkg::passedBG_T"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/c9ea0/4783/31B8/53df7f763274"/>
							</pragmas>
						</Variable>
						<Variable name="_L8">
							<type>
								<NamedType>
									<type>
										<TypeRef name="TrainPosition_Types_Pck::positionedBG_T"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/c9ea2/4783/31B8/53df7f767139"/>
							</pragmas>
						</Variable>
						<Variable name="_L9">
							<type>
								<NamedType>
									<type>
										<TypeRef name="TrainPosition_Types_Pck::positionedBG_T"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/c9ea4/4783/31B8/53df7f766e55"/>
							</pragmas>
						</Variable>
						<Variable name="_L10">
							<type>
								<NamedType>
									<type>
										<TypeRef name="bool"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/c9ea6/4783/31B8/53df7f76247d"/>
							</pragmas>
						</Variable>
						<Variable name="_L11">
							<type>
								<NamedType>
									<type>
										<TypeRef name="ProvidePositionReport_Pkg::SystemTime_T"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/c9eba/4783/31B8/53df8066674d"/>
							</pragmas>
						</Variable>
						<Variable name="_L13">
							<type>
								<NamedType>
									<type>
										<TypeRef name="ProvidePositionReport_Pkg::ErrorMessage_T"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/5b4fe/222E/14A8/53e08d46564"/>
							</pragmas>
						</Variable>
						<Variable name="_L14">
							<type>
								<NamedType>
									<type>
										<TypeRef name="ProvidePositionReport_Pkg::PositionReportParameter_T"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/5b50b/222E/14A8/53e0906a4ac8"/>
							</pragmas>
						</Variable>
						<Variable name="_L15">
							<type>
								<NamedType>
									<type>
										<TypeRef name="ProvidePositionReport_Pkg::TrackInfo_T"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/33c5a/1C70/91C/53ea28bb55a7"/>
							</pragmas>
						</Variable>
						<Variable name="_L18">
							<type>
								<NamedType>
									<type>
										<TypeRef name="TrainPosition_Types_Pck::trainProperties_T"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/67882/1C70/91C/53ea540a3d3a"/>
							</pragmas>
						</Variable>
						<Variable name="_L20">
							<type>
								<NamedType>
									<type>
										<TypeRef name="ProvidePositionReport_Pkg::RBC_Communication_T"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/678a5/1C70/91C/53ea57054148"/>
							</pragmas>
						</Variable>
						<Variable name="_L21">
							<type>
								<NamedType>
									<type>
										<TypeRef name="BG_Types_Pkg::TrainToTrackStatus_T"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/678a7/1C70/91C/53ea57053ef4"/>
							</pragmas>
						</Variable>
						<Variable name="_L22">
							<type>
								<NamedType>
									<type>
										<TypeRef name="ProvidePositionReport_Pkg::LinkingInfoUsedOnBoard"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/17900/29E6/1F98/53fdb4c2312e"/>
							</pragmas>
						</Variable>
						<Variable name="_L23">
							<type>
								<NamedType>
									<type>
										<TypeRef name="ProvidePositionReport_Pkg::PositionReport_T"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/1f5e2/29E6/1F98/53fdb50f7d00"/>
							</pragmas>
						</Variable>
						<Variable name="_L24">
							<type>
								<NamedType>
									<type>
										<TypeRef name="BG_Types_Pkg::passedBG_T"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/2e067/6C21/1BB8/54057e413b64"/>
							</pragmas>
						</Variable>
						<Variable name="_L26">
							<type>
								<NamedType>
									<type>
										<TypeRef name="TrainPosition_Types_Pck::trainPosition_T"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/133c6/78D6/1C90/5405852e1de"/>
							</pragmas>
						</Variable>
					</locals>
					<data>
						<!-- _L1, _L2, _L3, _L4 = CalculateTrainPosition_Pkg::calculateTrainPosition(_L6, _L24... -->
						<Equation>
							<lefts>
								<VariableRef name="_L1"/>
								<VariableRef name="_L2"/>
								<VariableRef name="_L3"/>
								<VariableRef name="_L4"/>
							</lefts>
							<right>
								<!-- CalculateTrainPosition_Pkg::calculateTrainPosition(_L6, _L24, _L8, _L9, _L10, _L1... -->
								<CallExpression>
									<operator>
										<OpCall name="1">
											<operator>
												<OperatorRef name="CalculateTrainPosition_Pkg::calculateTrainPosition"/>
											</operator>
										</OpCall>
									</operator>
									<callParameters>
										<IdExpression>
											<path>
												<ConstVarRef name="_L6"/>
											</path>
										</IdExpression>
										<IdExpression>
											<path>
												<ConstVarRef name="_L24"/>
											</path>
										</IdExpression>
										<IdExpression>
											<path>
												<ConstVarRef name="_L8"/>
											</path>
										</IdExpression>
										<IdExpression>
											<path>
												<ConstVarRef name="_L9"/>
											</path>
										</IdExpression>
										<IdExpression>
											<path>
												<ConstVarRef name="_L10"/>
											</path>
										</IdExpression>
										<IdExpression>
											<path>
												<ConstVarRef name="_L18"/>
											</path>
										</IdExpression>
									</callParameters>
								</CallExpression>
							</right>
							<pragmas>
								<ed:Equation oid="!ed/c9e6c/4783/31B8/53df7e4a5cba"/>
							</pragmas>
						</Equation>
						<!-- _L6 = currentOdometry; -->
						<Equation>
							<lefts>
								<VariableRef name="_L6"/>
							</lefts>
							<right>
								<IdExpression>
									<path>
										<ConstVarRef name="currentOdometry"/>
									</path>
								</IdExpression>
							</right>
							<pragmas>
								<ed:Equation oid="!ed/c9e9d/4783/31B8/53df7f761f2c"/>
							</pragmas>
						</Equation>
						<!-- _L7 = passedBG; -->
						<Equation>
							<lefts>
								<VariableRef name="_L7"/>
							</lefts>
							<right>
								<IdExpression>
									<path>
										<ConstVarRef name="passedBG"/>
									</path>
								</IdExpression>
							</right>
							<pragmas>
								<ed:Equation oid="!ed/c9e9f/4783/31B8/53df7f76172"/>
							</pragmas>
						</Equation>
						<!-- _L8 = LRBG; -->
						<Equation>
							<lefts>
								<VariableRef name="_L8"/>
							</lefts>
							<right>
								<IdExpression>
									<path>
										<ConstVarRef name="LRBG"/>
									</path>
								</IdExpression>
							</right>
							<pragmas>
								<ed:Equation oid="!ed/c9ea1/4783/31B8/53df7f765bf9"/>
							</pragmas>
						</Equation>
						<!-- _L9 = prevLRBG; -->
						<Equation>
							<lefts>
								<VariableRef name="_L9"/>
							</lefts>
							<right>
								<IdExpression>
									<path>
										<ConstVarRef name="prevLRBG"/>
									</path>
								</IdExpression>
							</right>
							<pragmas>
								<ed:Equation oid="!ed/c9ea3/4783/31B8/53df7f7665bd"/>
							</pragmas>
						</Equation>
						<!-- _L10 = reset; -->
						<Equation>
							<lefts>
								<VariableRef name="_L10"/>
							</lefts>
							<right>
								<IdExpression>
									<path>
										<ConstVarRef name="reset"/>
									</path>
								</IdExpression>
							</right>
							<pragmas>
								<ed:Equation oid="!ed/c9ea5/4783/31B8/53df7f765953"/>
							</pragmas>
						</Equation>
						<!-- _L11 = systemTime; -->
						<Equation>
							<lefts>
								<VariableRef name="_L11"/>
							</lefts>
							<right>
								<IdExpression>
									<path>
										<ConstVarRef name="systemTime"/>
									</path>
								</IdExpression>
							</right>
							<pragmas>
								<ed:Equation oid="!ed/c9eb9/4783/31B8/53df80666d4"/>
							</pragmas>
						</Equation>
						<!-- posRep = _L23; -->
						<Equation>
							<lefts>
								<VariableRef name="posRep"/>
							</lefts>
							<right>
								<IdExpression>
									<path>
										<ConstVarRef name="_L23"/>
									</path>
								</IdExpression>
							</right>
							<pragmas>
								<ed:Equation oid="!ed/c9ebf/4783/31B8/53df80721ec9"/>
							</pragmas>
						</Equation>
						<!-- _L13 = errorMsg; -->
						<Equation>
							<lefts>
								<VariableRef name="_L13"/>
							</lefts>
							<right>
								<IdExpression>
									<path>
										<ConstVarRef name="errorMsg"/>
									</path>
								</IdExpression>
							</right>
							<pragmas>
								<ed:Equation oid="!ed/5b4fd/222E/14A8/53e08d467d9e"/>
							</pragmas>
						</Equation>
						<!-- _L14 = posRepPara; -->
						<Equation>
							<lefts>
								<VariableRef name="_L14"/>
							</lefts>
							<right>
								<IdExpression>
									<path>
										<ConstVarRef name="posRepPara"/>
									</path>
								</IdExpression>
							</right>
							<pragmas>
								<ed:Equation oid="!ed/5b50a/222E/14A8/53e0906a1aa7"/>
							</pragmas>
						</Equation>
						<!-- _L15 = trackInfo; -->
						<Equation>
							<lefts>
								<VariableRef name="_L15"/>
							</lefts>
							<right>
								<IdExpression>
									<path>
										<ConstVarRef name="trackInfo"/>
									</path>
								</IdExpression>
							</right>
							<pragmas>
								<ed:Equation oid="!ed/33c59/1C70/91C/53ea28bb5e21"/>
							</pragmas>
						</Equation>
						<!-- trainPosInfo = _L2; -->
						<Equation>
							<lefts>
								<VariableRef name="trainPosInfo"/>
							</lefts>
							<right>
								<IdExpression>
									<path>
										<ConstVarRef name="_L2"/>
									</path>
								</IdExpression>
							</right>
							<pragmas>
								<ed:Equation oid="!ed/33c76/1C70/91C/53ea29f57350"/>
							</pragmas>
						</Equation>
						<!-- trainPosErrors = _L4; -->
						<Equation>
							<lefts>
								<VariableRef name="trainPosErrors"/>
							</lefts>
							<right>
								<IdExpression>
									<path>
										<ConstVarRef name="_L4"/>
									</path>
								</IdExpression>
							</right>
							<pragmas>
								<ed:Equation oid="!ed/33c77/1C70/91C/53ea29f56f22"/>
							</pragmas>
						</Equation>
						<!-- _L18 = trainProps; -->
						<Equation>
							<lefts>
								<VariableRef name="_L18"/>
							</lefts>
							<right>
								<IdExpression>
									<path>
										<ConstVarRef name="trainProps"/>
									</path>
								</IdExpression>
							</right>
							<pragmas>
								<ed:Equation oid="!ed/67881/1C70/91C/53ea540a2b47"/>
							</pragmas>
						</Equation>
						<!-- _L20 = rcbComm; -->
						<Equation>
							<lefts>
								<VariableRef name="_L20"/>
							</lefts>
							<right>
								<IdExpression>
									<path>
										<ConstVarRef name="rcbComm"/>
									</path>
								</IdExpression>
							</right>
							<pragmas>
								<ed:Equation oid="!ed/678a4/1C70/91C/53ea570563c6"/>
							</pragmas>
						</Equation>
						<!-- _L21 = train2trackStatus; -->
						<Equation>
							<lefts>
								<VariableRef name="_L21"/>
							</lefts>
							<right>
								<IdExpression>
									<path>
										<ConstVarRef name="train2trackStatus"/>
									</path>
								</IdExpression>
							</right>
							<pragmas>
								<ed:Equation oid="!ed/678a6/1C70/91C/53ea57051c51"/>
							</pragmas>
						</Equation>
						<!-- _L22 = linkingInfoUsed; -->
						<Equation>
							<lefts>
								<VariableRef name="_L22"/>
							</lefts>
							<right>
								<IdExpression>
									<path>
										<ConstVarRef name="linkingInfoUsed"/>
									</path>
								</IdExpression>
							</right>
							<pragmas>
								<ed:Equation oid="!ed/178ff/29E6/1F98/53fdb4c261fa"/>
							</pragmas>
						</Equation>
						<!-- _L23 = ProvidePositionReport_Pkg::ProvidePositionReport(_L3, _L1, _L18, _L13, _L1... -->
						<Equation>
							<lefts>
								<VariableRef name="_L23"/>
							</lefts>
							<right>
								<!-- ProvidePositionReport_Pkg::ProvidePositionReport(_L3, _L1, _L18, _L13, _L15, _L14... -->
								<CallExpression>
									<operator>
										<OpCall name="3">
											<operator>
												<OperatorRef name="ProvidePositionReport_Pkg::ProvidePositionReport"/>
											</operator>
										</OpCall>
									</operator>
									<callParameters>
										<IdExpression>
											<path>
												<ConstVarRef name="_L3"/>
											</path>
										</IdExpression>
										<IdExpression>
											<path>
												<ConstVarRef name="_L1"/>
											</path>
										</IdExpression>
										<IdExpression>
											<path>
												<ConstVarRef name="_L18"/>
											</path>
										</IdExpression>
										<IdExpression>
											<path>
												<ConstVarRef name="_L13"/>
											</path>
										</IdExpression>
										<IdExpression>
											<path>
												<ConstVarRef name="_L15"/>
											</path>
										</IdExpression>
										<IdExpression>
											<path>
												<ConstVarRef name="_L14"/>
											</path>
										</IdExpression>
										<IdExpression>
											<path>
												<ConstVarRef name="_L11"/>
											</path>
										</IdExpression>
										<IdExpression>
											<path>
												<ConstVarRef name="_L20"/>
											</path>
										</IdExpression>
										<IdExpression>
											<path>
												<ConstVarRef name="_L21"/>
											</path>
										</IdExpression>
										<IdExpression>
											<path>
												<ConstVarRef name="_L22"/>
											</path>
										</IdExpression>
									</callParameters>
								</CallExpression>
							</right>
							<pragmas>
								<ed:Equation oid="!ed/1f5e1/29E6/1F98/53fdb50f5605"/>
							</pragmas>
						</Equation>
						<!-- _L24 = ValidateDataDirection_Pkg::validateDataDirection(_L7, _L8, _L26); -->
						<Equation>
							<lefts>
								<VariableRef name="_L24"/>
							</lefts>
							<right>
								<!-- ValidateDataDirection_Pkg::validateDataDirection(_L7, _L8, _L26) -->
								<CallExpression>
									<operator>
										<OpCall name="1">
											<operator>
												<OperatorRef name="ValidateDataDirection_Pkg::validateDataDirection"/>
											</operator>
										</OpCall>
									</operator>
									<callParameters>
										<IdExpression>
											<path>
												<ConstVarRef name="_L7"/>
											</path>
										</IdExpression>
										<IdExpression>
											<path>
												<ConstVarRef name="_L8"/>
											</path>
										</IdExpression>
										<IdExpression>
											<path>
												<ConstVarRef name="_L26"/>
											</path>
										</IdExpression>
									</callParameters>
								</CallExpression>
							</right>
							<pragmas>
								<ed:Equation oid="!ed/2e066/6C21/1BB8/54057e417ebb"/>
							</pragmas>
						</Equation>
						<!-- trainPosition_loc = _L1; -->
						<Equation>
							<lefts>
								<VariableRef name="trainPosition_loc"/>
							</lefts>
							<right>
								<IdExpression>
									<path>
										<ConstVarRef name="_L1"/>
									</path>
								</IdExpression>
							</right>
							<pragmas>
								<ed:Equation oid="!ed/133b8/78D6/1C90/5405850948e2"/>
							</pragmas>
						</Equation>
						<!-- _L26 =  last 'trainPosition_loc; -->
						<Equation>
							<lefts>
								<VariableRef name="_L26"/>
							</lefts>
							<right>
								<Last>
									<variable>
										<ConstVarRef name="trainPosition_loc"/>
									</variable>
								</Last>
							</right>
							<pragmas>
								<ed:Equation oid="!ed/133c5/78D6/1C90/5405852e7b1"/>
							</pragmas>
						</Equation>
						<!-- trainPosition = _L1; -->
						<Equation>
							<lefts>
								<VariableRef name="trainPosition"/>
							</lefts>
							<right>
								<IdExpression>
									<path>
										<ConstVarRef name="_L1"/>
									</path>
								</IdExpression>
							</right>
							<pragmas>
								<ed:Equation oid="!ed/133d5/78D6/1C90/540586e1828"/>
							</pragmas>
						</Equation>
						<!-- BGs = _L3; -->
						<Equation>
							<lefts>
								<VariableRef name="BGs"/>
							</lefts>
							<right>
								<IdExpression>
									<path>
										<ConstVarRef name="_L3"/>
									</path>
								</IdExpression>
							</right>
							<pragmas>
								<ed:Equation oid="!ed/133e1/78D6/1C90/5405879d2f81"/>
							</pragmas>
						</Equation>
					</data>
					<pragmas>
						<ed:Operator oid="!ed/4224d/1CAF/1A3C/5304ad9544fd" xmlns="http://www.esterel-technologies.com/ns/scade/pragmas/editor/4">
							<diagrams>
								<NetDiagram name="diagram_ManageTrainPosition_1" landscape="true" format="A4 (210 297)" oid="!ed/4224e/1CAF/1A3C/5304ad955ea2">
									<presentationElements>
										<EquationGE presentable="!ed/c9e6c/4783/31B8/53df7e4a5cba">
											<position>
												<Point x="14473" y="3413"/>
											</position>
											<size>
												<Size width="4514" height="7716"/>
											</size>
										</EquationGE>
										<EquationGE presentable="!ed/c9e9d/4783/31B8/53df7f761f2c">
											<position>
												<Point x="12409" y="4445"/>
											</position>
											<size>
												<Size width="264" height="503"/>
											</size>
										</EquationGE>
										<EquationGE presentable="!ed/c9e9f/4783/31B8/53df7f76172">
											<position>
												<Point x="2963" y="1614"/>
											</position>
											<size>
												<Size width="264" height="503"/>
											</size>
										</EquationGE>
										<EquationGE presentable="!ed/c9ea1/4783/31B8/53df7f765bf9">
											<position>
												<Point x="2963" y="7011"/>
											</position>
											<size>
												<Size width="264" height="503"/>
											</size>
										</EquationGE>
										<EquationGE presentable="!ed/c9ea3/4783/31B8/53df7f7665bd">
											<position>
												<Point x="12409" y="8281"/>
											</position>
											<size>
												<Size width="264" height="502"/>
											</size>
										</EquationGE>
										<EquationGE presentable="!ed/c9ea5/4783/31B8/53df7f765953">
											<position>
												<Point x="12409" y="9551"/>
											</position>
											<size>
												<Size width="264" height="502"/>
											</size>
										</EquationGE>
										<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/c9e9d/4783/31B8/53df7f761f2c" dstEquation="!ed/c9e6c/4783/31B8/53df7e4a5cba">
											<positions>
												<Point x="12674" y="4710"/>
												<Point x="13573" y="4710"/>
												<Point x="13573" y="4710"/>
												<Point x="14473" y="4710"/>
											</positions>
										</Edge>
										<Edge leftVarIndex="1" rightExprIndex="3" srcEquation="!ed/c9ea1/4783/31B8/53df7f765bf9" dstEquation="!ed/c9e6c/4783/31B8/53df7e4a5cba">
											<positions>
												<Point x="3228" y="7276"/>
												<Point x="8837" y="7276"/>
												<Point x="8837" y="7276"/>
												<Point x="14473" y="7276"/>
											</positions>
										</Edge>
										<Edge leftVarIndex="1" rightExprIndex="4" srcEquation="!ed/c9ea3/4783/31B8/53df7f7665bd" dstEquation="!ed/c9e6c/4783/31B8/53df7e4a5cba">
											<positions>
												<Point x="12674" y="8546"/>
												<Point x="13573" y="8546"/>
												<Point x="13573" y="8546"/>
												<Point x="14473" y="8546"/>
											</positions>
										</Edge>
										<Edge leftVarIndex="1" rightExprIndex="5" srcEquation="!ed/c9ea5/4783/31B8/53df7f765953" dstEquation="!ed/c9e6c/4783/31B8/53df7e4a5cba">
											<positions>
												<Point x="12674" y="9816"/>
												<Point x="13573" y="9816"/>
												<Point x="13573" y="9816"/>
												<Point x="14473" y="9816"/>
											</positions>
										</Edge>
										<EquationGE presentable="!ed/c9eb9/4783/31B8/53df80666d4">
											<position>
												<Point x="21405" y="20849"/>
											</position>
											<size>
												<Size width="264" height="503"/>
											</size>
										</EquationGE>
										<EquationGE presentable="!ed/c9ebf/4783/31B8/53df80721ec9">
											<position>
												<Point x="30057" y="18627"/>
											</position>
											<size>
												<Size width="317" height="503"/>
											</size>
										</EquationGE>
										<EquationGE presentable="!ed/5b4fd/222E/14A8/53e08d467d9e">
											<position>
												<Point x="21405" y="16351"/>
											</position>
											<size>
												<Size width="264" height="503"/>
											</size>
										</EquationGE>
										<EquationGE presentable="!ed/5b50a/222E/14A8/53e0906a1aa7">
											<position>
												<Point x="21378" y="19341"/>
											</position>
											<size>
												<Size width="265" height="503"/>
											</size>
										</EquationGE>
										<EquationGE presentable="!ed/33c59/1C70/91C/53ea28bb5e21">
											<position>
												<Point x="21405" y="17833"/>
											</position>
											<size>
												<Size width="254" height="508"/>
											</size>
										</EquationGE>
										<EquationGE presentable="!ed/33c76/1C70/91C/53ea29f57350">
											<position>
												<Point x="30057" y="6218"/>
											</position>
											<size>
												<Size width="339" height="508"/>
											</size>
										</EquationGE>
										<EquationGE presentable="!ed/33c77/1C70/91C/53ea29f56f22">
											<position>
												<Point x="30057" y="9340"/>
											</position>
											<size>
												<Size width="339" height="508"/>
											</size>
										</EquationGE>
										<Edge leftVarIndex="4" rightExprIndex="1" srcEquation="!ed/c9e6c/4783/31B8/53df7e4a5cba" dstEquation="!ed/33c77/1C70/91C/53ea29f56f22">
											<positions>
												<Point x="18971" y="9578"/>
												<Point x="24448" y="9578"/>
												<Point x="24448" y="9578"/>
												<Point x="30110" y="9578"/>
											</positions>
										</Edge>
										<Edge leftVarIndex="2" rightExprIndex="1" srcEquation="!ed/c9e6c/4783/31B8/53df7e4a5cba" dstEquation="!ed/33c76/1C70/91C/53ea29f57350">
											<positions>
												<Point x="18971" y="6482"/>
												<Point x="24448" y="6482"/>
												<Point x="24448" y="6482"/>
												<Point x="30110" y="6482"/>
											</positions>
										</Edge>
										<EquationGE presentable="!ed/67881/1C70/91C/53ea540a2b47">
											<position>
												<Point x="2990" y="14870"/>
											</position>
											<size>
												<Size width="254" height="508"/>
											</size>
										</EquationGE>
										<Edge leftVarIndex="1" rightExprIndex="6" srcEquation="!ed/67881/1C70/91C/53ea540a2b47" dstEquation="!ed/c9e6c/4783/31B8/53df7e4a5cba">
											<positions>
												<Point x="3228" y="15134"/>
												<Point x="16722" y="15134"/>
												<Point x="16722" y="11113"/>
											</positions>
										</Edge>
										<EquationGE presentable="!ed/678a4/1C70/91C/53ea570563c6">
											<position>
												<Point x="21405" y="22331"/>
											</position>
											<size>
												<Size width="254" height="508"/>
											</size>
										</EquationGE>
										<EquationGE presentable="!ed/678a6/1C70/91C/53ea57051c51">
											<position>
												<Point x="21405" y="23813"/>
											</position>
											<size>
												<Size width="254" height="508"/>
											</size>
										</EquationGE>
										<EquationGE presentable="!ed/178ff/29E6/1F98/53fdb4c261fa">
											<position>
												<Point x="21564" y="25294"/>
											</position>
											<size>
												<Size width="254" height="508"/>
											</size>
										</EquationGE>
										<EquationGE presentable="!ed/1f5e1/29E6/1F98/53fdb50f5605">
											<position>
												<Point x="23548" y="10663"/>
											</position>
											<size>
												<Size width="4540" height="16393"/>
											</size>
										</EquationGE>
										<Edge leftVarIndex="1" rightExprIndex="10" srcEquation="!ed/178ff/29E6/1F98/53fdb4c261fa" dstEquation="!ed/1f5e1/29E6/1F98/53fdb50f5605">
											<positions>
												<Point x="21828" y="25559"/>
												<Point x="22675" y="25559"/>
												<Point x="22675" y="25559"/>
												<Point x="23548" y="25559"/>
											</positions>
										</Edge>
										<Edge leftVarIndex="1" rightExprIndex="9" srcEquation="!ed/678a6/1C70/91C/53ea57051c51" dstEquation="!ed/1f5e1/29E6/1F98/53fdb50f5605">
											<positions>
												<Point x="21669" y="24077"/>
												<Point x="22595" y="24077"/>
												<Point x="22595" y="24077"/>
												<Point x="23548" y="24077"/>
											</positions>
										</Edge>
										<Edge leftVarIndex="1" rightExprIndex="8" srcEquation="!ed/678a4/1C70/91C/53ea570563c6" dstEquation="!ed/1f5e1/29E6/1F98/53fdb50f5605">
											<positions>
												<Point x="21669" y="22595"/>
												<Point x="22595" y="22595"/>
												<Point x="22595" y="22595"/>
												<Point x="23548" y="22595"/>
											</positions>
										</Edge>
										<Edge leftVarIndex="1" rightExprIndex="7" srcEquation="!ed/c9eb9/4783/31B8/53df80666d4" dstEquation="!ed/1f5e1/29E6/1F98/53fdb50f5605">
											<positions>
												<Point x="21669" y="21114"/>
												<Point x="22595" y="21114"/>
												<Point x="22595" y="21114"/>
												<Point x="23548" y="21114"/>
											</positions>
										</Edge>
										<Edge leftVarIndex="1" rightExprIndex="6" srcEquation="!ed/5b50a/222E/14A8/53e0906a1aa7" dstEquation="!ed/1f5e1/29E6/1F98/53fdb50f5605">
											<positions>
												<Point x="21643" y="19606"/>
												<Point x="22595" y="19606"/>
												<Point x="22595" y="19606"/>
												<Point x="23548" y="19606"/>
											</positions>
										</Edge>
										<Edge leftVarIndex="1" rightExprIndex="5" srcEquation="!ed/33c59/1C70/91C/53ea28bb5e21" dstEquation="!ed/1f5e1/29E6/1F98/53fdb50f5605">
											<positions>
												<Point x="21669" y="18098"/>
												<Point x="22595" y="18098"/>
												<Point x="22595" y="18098"/>
												<Point x="23548" y="18098"/>
											</positions>
										</Edge>
										<Edge leftVarIndex="1" rightExprIndex="4" srcEquation="!ed/5b4fd/222E/14A8/53e08d467d9e" dstEquation="!ed/1f5e1/29E6/1F98/53fdb50f5605">
											<positions>
												<Point x="21669" y="16616"/>
												<Point x="22595" y="16616"/>
												<Point x="22595" y="16616"/>
												<Point x="23548" y="16616"/>
											</positions>
										</Edge>
										<Edge leftVarIndex="1" rightExprIndex="3" srcEquation="!ed/67881/1C70/91C/53ea540a2b47" dstEquation="!ed/1f5e1/29E6/1F98/53fdb50f5605">
											<positions>
												<Point x="3228" y="15134"/>
												<Point x="13070" y="15134"/>
												<Point x="13070" y="15134"/>
												<Point x="23548" y="15134"/>
											</positions>
										</Edge>
										<Edge leftVarIndex="1" rightExprIndex="2" srcEquation="!ed/c9e6c/4783/31B8/53df7e4a5cba" dstEquation="!ed/1f5e1/29E6/1F98/53fdb50f5605">
											<positions>
												<Point x="18971" y="4948"/>
												<Point x="22516" y="4948"/>
												<Point x="22516" y="13653"/>
												<Point x="23548" y="13653"/>
											</positions>
										</Edge>
										<Edge leftVarIndex="3" rightExprIndex="1" srcEquation="!ed/c9e6c/4783/31B8/53df7e4a5cba" dstEquation="!ed/1f5e1/29E6/1F98/53fdb50f5605">
											<positions>
												<Point x="18971" y="8043"/>
												<Point x="21484" y="8043"/>
												<Point x="21484" y="12144"/>
												<Point x="23548" y="12144"/>
											</positions>
										</Edge>
										<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/1f5e1/29E6/1F98/53fdb50f5605" dstEquation="!ed/c9ebf/4783/31B8/53df80721ec9">
											<positions>
												<Point x="28072" y="18865"/>
												<Point x="28654" y="18865"/>
												<Point x="28654" y="18865"/>
												<Point x="30110" y="18865"/>
											</positions>
										</Edge>
										<EquationGE presentable="!ed/2e066/6C21/1BB8/54057e417ebb">
											<position>
												<Point x="5636" y="582"/>
											</position>
											<size>
												<Size width="4328" height="5228"/>
											</size>
										</EquationGE>
										<Edge leftVarIndex="1" rightExprIndex="2" srcEquation="!ed/2e066/6C21/1BB8/54057e417ebb" dstEquation="!ed/c9e6c/4783/31B8/53df7e4a5cba">
											<positions>
												<Point x="9948" y="3175"/>
												<Point x="13705" y="3175"/>
												<Point x="13705" y="5980"/>
												<Point x="14473" y="5980"/>
											</positions>
										</Edge>
										<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/c9e9f/4783/31B8/53df7f76172" dstEquation="!ed/2e066/6C21/1BB8/54057e417ebb">
											<positions>
												<Point x="3228" y="1879"/>
												<Point x="4339" y="1879"/>
												<Point x="4339" y="1879"/>
												<Point x="5636" y="1879"/>
											</positions>
										</Edge>
										<Edge leftVarIndex="1" rightExprIndex="2" srcEquation="!ed/c9ea1/4783/31B8/53df7f765bf9" dstEquation="!ed/2e066/6C21/1BB8/54057e417ebb">
											<positions>
												<Point x="3228" y="7276"/>
												<Point x="4736" y="7276"/>
												<Point x="4736" y="3175"/>
												<Point x="5636" y="3175"/>
											</positions>
										</Edge>
										<EquationGE presentable="!ed/133b8/78D6/1C90/5405850948e2">
											<position>
												<Point x="30057" y="5477"/>
											</position>
											<size>
												<Size width="344" height="503"/>
											</size>
										</EquationGE>
										<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/c9e6c/4783/31B8/53df7e4a5cba" dstEquation="!ed/133b8/78D6/1C90/5405850948e2">
											<positions>
												<Point x="18971" y="4948"/>
												<Point x="28919" y="4948"/>
												<Point x="28919" y="5741"/>
												<Point x="30057" y="5741"/>
											</positions>
										</Edge>
										<EquationGE presentable="!ed/133c5/78D6/1C90/5405852e7b1">
											<position>
												<Point x="2963" y="4233"/>
											</position>
											<size>
												<Size width="265" height="529"/>
											</size>
										</EquationGE>
										<Edge leftVarIndex="1" rightExprIndex="3" srcEquation="!ed/133c5/78D6/1C90/5405852e7b1" dstEquation="!ed/2e066/6C21/1BB8/54057e417ebb">
											<positions>
												<Point x="3228" y="4498"/>
												<Point x="4763" y="4498"/>
												<Point x="4763" y="4498"/>
												<Point x="5636" y="4498"/>
											</positions>
										</Edge>
										<EquationGE presentable="!ed/133d5/78D6/1C90/540586e1828">
											<position>
												<Point x="30057" y="4683"/>
											</position>
											<size>
												<Size width="318" height="503"/>
											</size>
										</EquationGE>
										<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/c9e6c/4783/31B8/53df7e4a5cba" dstEquation="!ed/133d5/78D6/1C90/540586e1828">
											<positions>
												<Point x="18971" y="4948"/>
												<Point x="24448" y="4948"/>
												<Point x="24448" y="4948"/>
												<Point x="30110" y="4948"/>
											</positions>
										</Edge>
										<EquationGE presentable="!ed/133e1/78D6/1C90/5405879d2f81">
											<position>
												<Point x="30057" y="7779"/>
											</position>
											<size>
												<Size width="317" height="503"/>
											</size>
										</EquationGE>
										<Edge leftVarIndex="3" rightExprIndex="1" srcEquation="!ed/c9e6c/4783/31B8/53df7e4a5cba" dstEquation="!ed/133e1/78D6/1C90/5405879d2f81">
											<positions>
												<Point x="18971" y="8043"/>
												<Point x="24527" y="8043"/>
												<Point x="24527" y="8043"/>
												<Point x="30110" y="8043"/>
											</positions>
										</Edge>
									</presentationElements>
								</NetDiagram>
							</diagrams>
						</ed:Operator>
					</pragmas>
				</Operator>
			</declarations>
			<pragmas>
				<ed:Package oid="!ed/42249/1CAF/1A3C/5304ad8c4bfd" xmlns="http://www.esterel-technologies.com/ns/scade/pragmas/editor/4">
					<diagrams>
						<TreeDiagram landscape="false" format="A4 (210 297)" oid="!ed/4224a/1CAF/1A3C/5304ad8c6ffb" blockKind="constants"/>
						<TreeDiagram landscape="false" format="A4 (210 297)" oid="!ed/4224b/1CAF/1A3C/5304ad8c1833" blockKind="types"/>
						<TreeDiagram landscape="false" format="A4 (210 297)" oid="!ed/4224c/1CAF/1A3C/5304ad8c7963" blockKind="sensors"/>
					</diagrams>
				</ed:Package>
			</pragmas>
		</Package>
	</declarations>
</File>
