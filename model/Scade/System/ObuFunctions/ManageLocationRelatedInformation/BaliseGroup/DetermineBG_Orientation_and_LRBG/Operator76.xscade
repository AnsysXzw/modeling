<?xml version="1.0" encoding="UTF-8"?>
<Operator xmlns="http://www.esterel-technologies.com/ns/scade/4" xmlns:ed="http://www.esterel-technologies.com/ns/scade/pragmas/editor/4" xmlns:kcg="http://www.esterel-technologies.com/ns/scade/pragmas/codegen/2" kind="node" name="FinalCheck">
	<inputs>
		<Variable name="CheckedBGMessage_">
			<type>
				<NamedType>
					<type>
						<TypeRef name="Coordinate_System::BTM::BG_Message_T"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/522e/3639/2F64/53983dd77b1d"/>
			</pragmas>
		</Variable>
		<Variable name="Orientation_">
			<type>
				<NamedType>
					<type>
						<TypeRef name="Q_DIRTRAIN"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/522f/3639/2F64/53983dd7276b"/>
			</pragmas>
		</Variable>
		<Variable name="RBCOrientationReport_">
			<type>
				<NamedType>
					<type>
						<TypeRef name="Coordinate_System::BTM::RBCOrientationReport_T"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/5230/3639/2F64/53983dd77460"/>
			</pragmas>
		</Variable>
		<Variable name="TrainInfo_">
			<type>
				<NamedType>
					<type>
						<TypeRef name="Coordinate_System::BTM::TrainInfo_T"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/5231/3639/2F64/53983dd76121"/>
			</pragmas>
		</Variable>
	</inputs>
	<outputs>
		<Variable name="RBCReport_">
			<type>
				<NamedType>
					<type>
						<TypeRef name="Radio_TrainToTrack::Train_Position_Report"/>
					</type>
				</NamedType>
			</type>
			<last>
				<IdExpression>
					<path>
						<ConstVarRef name="RBCReports"/>
					</path>
				</IdExpression>
			</last>
			<pragmas>
				<ed:Variable oid="!ed/5232/3639/2F64/53983dd96708"/>
			</pragmas>
		</Variable>
		<Variable name="FilteredBGMessage_">
			<type>
				<NamedType>
					<type>
						<TypeRef name="Coordinate_System::BTM::FilteredBGMessage_T"/>
					</type>
				</NamedType>
			</type>
			<last>
				<IdExpression>
					<path>
						<ConstVarRef name="FilteredBGMessages"/>
					</path>
				</IdExpression>
			</last>
			<pragmas>
				<ed:Variable oid="!ed/5234/3639/2F64/53983ddc61ba"/>
			</pragmas>
		</Variable>
	</outputs>
	<data>
		<StateMachine name="SM1">
			<states>
				<State initial="true" name="Initial">
					<unless>
						<Transition kind="restart">
							<target>
								<StateRef name="Level0or1"/>
							</target>
							<condition>
								<!-- M_LEVELTR_Level_0 = TrainInfo_.m_leveltr or M_LEVELTR_Level_1 = TrainInfo_.m_leve... -->
								<NAryOp name="18" operator="or">
									<operands>
										<!-- M_LEVELTR_Level_0 = TrainInfo_.m_leveltr -->
										<BinaryOp name="48" operator="=">
											<operands>
												<IdExpression>
													<path>
														<ConstVarRef name="M_LEVELTR_Level_0"/>
													</path>
												</IdExpression>
												<!-- TrainInfo_.m_leveltr -->
												<PrjOp name="40">
													<flow>
														<IdExpression>
															<path>
																<ConstVarRef name="TrainInfo_"/>
															</path>
														</IdExpression>
													</flow>
													<with>
														<Label name="m_leveltr"/>
													</with>
												</PrjOp>
											</operands>
										</BinaryOp>
										<!-- M_LEVELTR_Level_1 = TrainInfo_.m_leveltr -->
										<BinaryOp name="49" operator="=">
											<operands>
												<IdExpression>
													<path>
														<ConstVarRef name="M_LEVELTR_Level_1"/>
													</path>
												</IdExpression>
												<!-- TrainInfo_.m_leveltr -->
												<PrjOp name="41">
													<flow>
														<IdExpression>
															<path>
																<ConstVarRef name="TrainInfo_"/>
															</path>
														</IdExpression>
													</flow>
													<with>
														<Label name="m_leveltr"/>
													</with>
												</PrjOp>
											</operands>
										</BinaryOp>
									</operands>
								</NAryOp>
							</condition>
							<pragmas>
								<ed:Transition oid="!ed/537a/6BC5/1918/53898880453d"/>
							</pragmas>
						</Transition>
						<Transition kind="restart">
							<target>
								<StateRef name="Level2or3"/>
							</target>
							<condition>
								<!-- M_LEVELTR_Level_2 = TrainInfo_.m_leveltr or M_LEVELTR_Level_3 = TrainInfo_.m_leve... -->
								<NAryOp name="20" operator="or">
									<operands>
										<!-- M_LEVELTR_Level_2 = TrainInfo_.m_leveltr -->
										<BinaryOp name="52" operator="=">
											<operands>
												<IdExpression>
													<path>
														<ConstVarRef name="M_LEVELTR_Level_2"/>
													</path>
												</IdExpression>
												<!-- TrainInfo_.m_leveltr -->
												<PrjOp name="44">
													<flow>
														<IdExpression>
															<path>
																<ConstVarRef name="TrainInfo_"/>
															</path>
														</IdExpression>
													</flow>
													<with>
														<Label name="m_leveltr"/>
													</with>
												</PrjOp>
											</operands>
										</BinaryOp>
										<!-- M_LEVELTR_Level_3 = TrainInfo_.m_leveltr -->
										<BinaryOp name="53" operator="=">
											<operands>
												<IdExpression>
													<path>
														<ConstVarRef name="M_LEVELTR_Level_3"/>
													</path>
												</IdExpression>
												<!-- TrainInfo_.m_leveltr -->
												<PrjOp name="45">
													<flow>
														<IdExpression>
															<path>
																<ConstVarRef name="TrainInfo_"/>
															</path>
														</IdExpression>
													</flow>
													<with>
														<Label name="m_leveltr"/>
													</with>
												</PrjOp>
											</operands>
										</BinaryOp>
									</operands>
								</NAryOp>
							</condition>
							<pragmas>
								<ed:Transition oid="!ed/537b/6BC5/1918/538988804eb3"/>
							</pragmas>
						</Transition>
					</unless>
					<pragmas>
						<ed:State oid="!ed/5379/6BC5/1918/538988805e9"/>
					</pragmas>
				</State>
				<State final="true" name="Level0or1">
					<locals>
						<Variable name="_L2">
							<type>
								<NamedType>
									<type>
										<TypeRef name="Coordinate_System::BTM::FilteredBGMessage_T"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/5382/6BC5/1918/538988803703"/>
							</pragmas>
						</Variable>
						<Variable name="_L4">
							<type>
								<NamedType>
									<type>
										<TypeRef name="Q_DIRTRAIN"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/5237/3639/2F64/53983e4330f2"/>
							</pragmas>
						</Variable>
						<Variable name="_L5">
							<type>
								<NamedType>
									<type>
										<TypeRef name="Coordinate_System::BTM::BG_Message_T"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/524a/3639/2F64/53983e60428e"/>
							</pragmas>
						</Variable>
					</locals>
					<data>
						<!-- _L2 = (make Coordinate_System::BTM::FilteredBGMessage_T)(_L4, _L5); -->
						<Equation>
							<lefts>
								<VariableRef name="_L2"/>
							</lefts>
							<right>
								<!-- (make Coordinate_System::BTM::FilteredBGMessage_T)(_L4, _L5) -->
								<CallExpression>
									<operator>
										<MakeOp name="13">
											<type>
												<TypeRef name="Coordinate_System::BTM::FilteredBGMessage_T"/>
											</type>
										</MakeOp>
									</operator>
									<callParameters>
										<IdExpression>
											<path>
												<ConstVarRef name="_L4"/>
											</path>
										</IdExpression>
										<IdExpression>
											<path>
												<ConstVarRef name="_L5"/>
											</path>
										</IdExpression>
									</callParameters>
								</CallExpression>
							</right>
							<pragmas>
								<ed:Equation oid="!ed/537e/6BC5/1918/5389888057e4"/>
							</pragmas>
						</Equation>
						<!-- _L4 = Orientation_; -->
						<Equation>
							<lefts>
								<VariableRef name="_L4"/>
							</lefts>
							<right>
								<IdExpression>
									<path>
										<ConstVarRef name="Orientation_"/>
									</path>
								</IdExpression>
							</right>
							<pragmas>
								<ed:Equation oid="!ed/5236/3639/2F64/53983e431e34"/>
							</pragmas>
						</Equation>
						<!-- FilteredBGMessage_ = _L2; -->
						<Equation>
							<lefts>
								<VariableRef name="FilteredBGMessage_"/>
							</lefts>
							<right>
								<IdExpression>
									<path>
										<ConstVarRef name="_L2"/>
									</path>
								</IdExpression>
							</right>
							<pragmas>
								<ed:Equation oid="!ed/5240/3639/2F64/53983e4e53ac"/>
							</pragmas>
						</Equation>
						<!-- _L5 = CheckedBGMessage_; -->
						<Equation>
							<lefts>
								<VariableRef name="_L5"/>
							</lefts>
							<right>
								<IdExpression>
									<path>
										<ConstVarRef name="CheckedBGMessage_"/>
									</path>
								</IdExpression>
							</right>
							<pragmas>
								<ed:Equation oid="!ed/5249/3639/2F64/53983e606bed"/>
							</pragmas>
						</Equation>
					</data>
					<pragmas>
						<ed:State oid="!ed/537c/6BC5/1918/5389888074ed"/>
					</pragmas>
				</State>
				<State final="true" name="Level2or3">
					<data>
						<StateMachine name="SM2">
							<states>
								<State initial="true" name="Init">
									<unless>
										<Transition kind="restart">
											<target>
												<StateRef name="Ack"/>
											</target>
											<condition>
												<!-- RBCOrientationReport_.assignment_of_coordinate_system.M_ACK = 1 -->
												<BinaryOp name="64" operator="=">
													<operands>
														<!-- RBCOrientationReport_.assignment_of_coordinate_system.M_ACK -->
														<PrjOp name="56">
															<flow>
																<IdExpression>
																	<path>
																		<ConstVarRef name="RBCOrientationReport_"/>
																	</path>
																</IdExpression>
															</flow>
															<with>
																<Label name="assignment_of_coordinate_system"/>
																<Label name="M_ACK"/>
															</with>
														</PrjOp>
														<ConstValue value="1"/>
													</operands>
												</BinaryOp>
											</condition>
											<pragmas>
												<ed:Transition oid="!ed/5387/6BC5/1918/538988802802"/>
											</pragmas>
										</Transition>
										<Transition kind="restart">
											<target>
												<StateRef name="NoAck"/>
											</target>
											<condition>
												<!-- RBCOrientationReport_.assignment_of_coordinate_system.M_ACK = 0 -->
												<BinaryOp name="66" operator="=">
													<operands>
														<!-- RBCOrientationReport_.assignment_of_coordinate_system.M_ACK -->
														<PrjOp name="58">
															<flow>
																<IdExpression>
																	<path>
																		<ConstVarRef name="RBCOrientationReport_"/>
																	</path>
																</IdExpression>
															</flow>
															<with>
																<Label name="assignment_of_coordinate_system"/>
																<Label name="M_ACK"/>
															</with>
														</PrjOp>
														<ConstValue value="0"/>
													</operands>
												</BinaryOp>
											</condition>
											<pragmas>
												<ed:Transition oid="!ed/5388/6BC5/1918/53898880ed2"/>
											</pragmas>
										</Transition>
									</unless>
									<pragmas>
										<ed:State oid="!ed/5386/6BC5/1918/538988804e76"/>
									</pragmas>
								</State>
								<State name="Ack">
									<locals>
										<Variable name="_L12">
											<type>
												<NamedType>
													<type>
														<TypeRef name="int"/>
													</type>
												</NamedType>
											</type>
											<pragmas>
												<ed:Variable oid="!ed/5398/6BC5/1918/53898880615d"/>
											</pragmas>
										</Variable>
										<Variable name="_L13">
											<type>
												<NamedType>
													<type>
														<TypeRef name="int"/>
													</type>
												</NamedType>
											</type>
											<pragmas>
												<ed:Variable oid="!ed/5399/6BC5/1918/538988807589"/>
											</pragmas>
										</Variable>
										<Variable name="_L14">
											<type>
												<NamedType>
													<type>
														<TypeRef name="real"/>
													</type>
												</NamedType>
											</type>
											<pragmas>
												<ed:Variable oid="!ed/539a/6BC5/1918/53898880202e"/>
											</pragmas>
										</Variable>
										<Variable name="_L15">
											<type>
												<NamedType>
													<type>
														<TypeRef name="int"/>
													</type>
												</NamedType>
											</type>
											<pragmas>
												<ed:Variable oid="!ed/539b/6BC5/1918/538988801a74"/>
											</pragmas>
										</Variable>
										<Variable name="_L16">
											<type>
												<NamedType>
													<type>
														<TypeRef name="int"/>
													</type>
												</NamedType>
											</type>
											<pragmas>
												<ed:Variable oid="!ed/539c/6BC5/1918/538988806dec"/>
											</pragmas>
										</Variable>
										<Variable name="_L17">
											<type>
												<NamedType>
													<type>
														<TypeRef name="int"/>
													</type>
												</NamedType>
											</type>
											<pragmas>
												<ed:Variable oid="!ed/539d/6BC5/1918/5389888059d9"/>
											</pragmas>
										</Variable>
										<Variable name="_L11">
											<type>
												<NamedType>
													<type>
														<TypeRef name="Radio_TrackToTrain::Assignment_of_coordinate_system"/>
													</type>
												</NamedType>
											</type>
											<pragmas>
												<ed:Variable oid="!ed/539e/6BC5/1918/538988801b87"/>
											</pragmas>
										</Variable>
										<Variable name="_L10">
											<type>
												<NamedType>
													<type>
														<TypeRef name="Radio_TrainToTrack::Train_Position_Report"/>
													</type>
												</NamedType>
											</type>
											<pragmas>
												<ed:Variable oid="!ed/539f/6BC5/1918/538988805cca"/>
											</pragmas>
										</Variable>
										<Variable name="_L26">
											<type>
												<NamedType>
													<type>
														<TypeRef name="Coordinate_System::BTM::FilteredBGMessage_T"/>
													</type>
												</NamedType>
											</type>
											<pragmas>
												<ed:Variable oid="!ed/53a0/6BC5/1918/53898880207"/>
											</pragmas>
										</Variable>
										<Variable name="_L31">
											<type>
												<NamedType>
													<type>
														<TypeRef name="Q_DIRTRAIN"/>
													</type>
												</NamedType>
											</type>
											<pragmas>
												<ed:Variable oid="!ed/53a1/6BC5/1918/538988802372"/>
											</pragmas>
										</Variable>
										<Variable name="_L30">
											<type>
												<NamedType>
													<type>
														<TypeRef name="Q_DIRTRAIN"/>
													</type>
												</NamedType>
											</type>
											<pragmas>
												<ed:Variable oid="!ed/53a2/6BC5/1918/53898880673f"/>
											</pragmas>
										</Variable>
										<Variable name="_L29">
											<type>
												<NamedType>
													<type>
														<TypeRef name="bool"/>
													</type>
												</NamedType>
											</type>
											<pragmas>
												<ed:Variable oid="!ed/53a3/6BC5/1918/538988805159"/>
											</pragmas>
										</Variable>
										<Variable name="_L28">
											<type>
												<NamedType>
													<type>
														<TypeRef name="Q_DIRTRAIN"/>
													</type>
												</NamedType>
											</type>
											<pragmas>
												<ed:Variable oid="!ed/53a4/6BC5/1918/538988802979"/>
											</pragmas>
										</Variable>
										<Variable name="_L32">
											<type>
												<NamedType>
													<type>
														<TypeRef name="int"/>
													</type>
												</NamedType>
											</type>
											<pragmas>
												<ed:Variable oid="!ed/53a5/6BC5/1918/538988807902"/>
											</pragmas>
										</Variable>
										<Variable name="_L34">
											<type>
												<NamedType>
													<type>
														<TypeRef name="Coordinate_System::BTM::RBCOrientationReport_T"/>
													</type>
												</NamedType>
											</type>
											<pragmas>
												<ed:Variable oid="!ed/525a/3639/2F64/53983e852686"/>
											</pragmas>
										</Variable>
										<Variable name="_L36">
											<type>
												<NamedType>
													<type>
														<TypeRef name="Coordinate_System::BTM::BG_Message_T"/>
													</type>
												</NamedType>
											</type>
											<pragmas>
												<ed:Variable oid="!ed/5267/3639/2F64/53983e9c30bf"/>
											</pragmas>
										</Variable>
									</locals>
									<data>
										<!-- _L10 = (make Radio_TrainToTrack::Train_Position_Report)(_L12, _L13, _L14, _L15, _... -->
										<Equation>
											<lefts>
												<VariableRef name="_L10"/>
											</lefts>
											<right>
												<!-- (make Radio_TrainToTrack::Train_Position_Report)(_L12, _L13, _L14, _L15, _L15, _L... -->
												<CallExpression>
													<operator>
														<MakeOp name="14">
															<type>
																<TypeRef name="Radio_TrainToTrack::Train_Position_Report"/>
															</type>
														</MakeOp>
													</operator>
													<callParameters>
														<IdExpression>
															<path>
																<ConstVarRef name="_L12"/>
															</path>
														</IdExpression>
														<IdExpression>
															<path>
																<ConstVarRef name="_L13"/>
															</path>
														</IdExpression>
														<IdExpression>
															<path>
																<ConstVarRef name="_L14"/>
															</path>
														</IdExpression>
														<IdExpression>
															<path>
																<ConstVarRef name="_L15"/>
															</path>
														</IdExpression>
														<IdExpression>
															<path>
																<ConstVarRef name="_L15"/>
															</path>
														</IdExpression>
														<IdExpression>
															<path>
																<ConstVarRef name="_L16"/>
															</path>
														</IdExpression>
													</callParameters>
												</CallExpression>
											</right>
											<pragmas>
												<ed:Equation oid="!ed/538b/6BC5/1918/5389888040d4"/>
											</pragmas>
										</Equation>
										<!-- _L11 = (flatten Coordinate_System::BTM::RBCOrientationReport_T)(_L34); -->
										<Equation>
											<lefts>
												<VariableRef name="_L11"/>
											</lefts>
											<right>
												<!-- (flatten Coordinate_System::BTM::RBCOrientationReport_T)(_L34) -->
												<CallExpression>
													<operator>
														<FlattenOp name="16">
															<type>
																<TypeRef name="Coordinate_System::BTM::RBCOrientationReport_T"/>
															</type>
														</FlattenOp>
													</operator>
													<callParameters>
														<IdExpression>
															<path>
																<ConstVarRef name="_L34"/>
															</path>
														</IdExpression>
													</callParameters>
												</CallExpression>
											</right>
											<pragmas>
												<ed:Equation oid="!ed/538c/6BC5/1918/538988805724"/>
											</pragmas>
										</Equation>
										<!-- _L12, _L13, _L14, _L15, _L16, _L17 = (flatten Radio_TrackToTrain::Assignment_of_c... -->
										<Equation>
											<lefts>
												<VariableRef name="_L12"/>
												<VariableRef name="_L13"/>
												<VariableRef name="_L14"/>
												<VariableRef name="_L15"/>
												<VariableRef name="_L16"/>
												<VariableRef name="_L17"/>
											</lefts>
											<right>
												<!-- (flatten Radio_TrackToTrain::Assignment_of_coordinate_system)(_L11) -->
												<CallExpression>
													<operator>
														<FlattenOp name="17">
															<type>
																<TypeRef name="Radio_TrackToTrain::Assignment_of_coordinate_system"/>
															</type>
														</FlattenOp>
													</operator>
													<callParameters>
														<IdExpression>
															<path>
																<ConstVarRef name="_L11"/>
															</path>
														</IdExpression>
													</callParameters>
												</CallExpression>
											</right>
											<pragmas>
												<ed:Equation oid="!ed/538d/6BC5/1918/53898880542d"/>
											</pragmas>
										</Equation>
										<!-- _L26 = (make Coordinate_System::BTM::FilteredBGMessage_T)(_L28, _L36); -->
										<Equation>
											<lefts>
												<VariableRef name="_L26"/>
											</lefts>
											<right>
												<!-- (make Coordinate_System::BTM::FilteredBGMessage_T)(_L28, _L36) -->
												<CallExpression>
													<operator>
														<MakeOp name="15">
															<type>
																<TypeRef name="Coordinate_System::BTM::FilteredBGMessage_T"/>
															</type>
														</MakeOp>
													</operator>
													<callParameters>
														<IdExpression>
															<path>
																<ConstVarRef name="_L28"/>
															</path>
														</IdExpression>
														<IdExpression>
															<path>
																<ConstVarRef name="_L36"/>
															</path>
														</IdExpression>
													</callParameters>
												</CallExpression>
											</right>
											<pragmas>
												<ed:Equation oid="!ed/538e/6BC5/1918/538988802997"/>
											</pragmas>
										</Equation>
										<!-- _L28 = if _L29 then (_L31) else (_L30); -->
										<Equation>
											<lefts>
												<VariableRef name="_L28"/>
											</lefts>
											<right>
												<!-- if _L29 then (_L31) else (_L30) -->
												<IfThenElseOp name="3">
													<if>
														<IdExpression>
															<path>
																<ConstVarRef name="_L29"/>
															</path>
														</IdExpression>
													</if>
													<then>
														<ListExpression>
															<items>
																<IdExpression>
																	<path>
																		<ConstVarRef name="_L31"/>
																	</path>
																</IdExpression>
															</items>
														</ListExpression>
													</then>
													<else>
														<ListExpression>
															<items>
																<IdExpression>
																	<path>
																		<ConstVarRef name="_L30"/>
																	</path>
																</IdExpression>
															</items>
														</ListExpression>
													</else>
												</IfThenElseOp>
											</right>
											<pragmas>
												<ed:Equation oid="!ed/5390/6BC5/1918/538988801079"/>
											</pragmas>
										</Equation>
										<!-- _L29 = _L17 = _L32; -->
										<Equation>
											<lefts>
												<VariableRef name="_L29"/>
											</lefts>
											<right>
												<!-- _L17 = _L32 -->
												<BinaryOp name="33" operator="=">
													<operands>
														<IdExpression>
															<path>
																<ConstVarRef name="_L17"/>
															</path>
														</IdExpression>
														<IdExpression>
															<path>
																<ConstVarRef name="_L32"/>
															</path>
														</IdExpression>
													</operands>
												</BinaryOp>
											</right>
											<pragmas>
												<ed:Equation oid="!ed/5391/6BC5/1918/5389888078c2"/>
											</pragmas>
										</Equation>
										<!-- _L30 = Q_DIRTRAIN_Reverse; -->
										<Equation>
											<lefts>
												<VariableRef name="_L30"/>
											</lefts>
											<right>
												<IdExpression>
													<path>
														<ConstVarRef name="Q_DIRTRAIN_Reverse"/>
													</path>
												</IdExpression>
											</right>
											<pragmas>
												<ed:Equation oid="!ed/5392/6BC5/1918/538988803457"/>
											</pragmas>
										</Equation>
										<!-- _L31 = Q_DIRTRAIN_Nominal; -->
										<Equation>
											<lefts>
												<VariableRef name="_L31"/>
											</lefts>
											<right>
												<IdExpression>
													<path>
														<ConstVarRef name="Q_DIRTRAIN_Nominal"/>
													</path>
												</IdExpression>
											</right>
											<pragmas>
												<ed:Equation oid="!ed/5393/6BC5/1918/5389888015f6"/>
											</pragmas>
										</Equation>
										<!-- _L32 = 0; -->
										<Equation>
											<lefts>
												<VariableRef name="_L32"/>
											</lefts>
											<right>
												<ConstValue value="0"/>
											</right>
											<pragmas>
												<ed:Equation oid="!ed/5394/6BC5/1918/538988801ef0"/>
											</pragmas>
										</Equation>
										<!-- _L34 = RBCOrientationReport_; -->
										<Equation>
											<lefts>
												<VariableRef name="_L34"/>
											</lefts>
											<right>
												<IdExpression>
													<path>
														<ConstVarRef name="RBCOrientationReport_"/>
													</path>
												</IdExpression>
											</right>
											<pragmas>
												<ed:Equation oid="!ed/5259/3639/2F64/53983e85731"/>
											</pragmas>
										</Equation>
										<!-- _L36 = CheckedBGMessage_; -->
										<Equation>
											<lefts>
												<VariableRef name="_L36"/>
											</lefts>
											<right>
												<IdExpression>
													<path>
														<ConstVarRef name="CheckedBGMessage_"/>
													</path>
												</IdExpression>
											</right>
											<pragmas>
												<ed:Equation oid="!ed/5266/3639/2F64/53983e9c2af5"/>
											</pragmas>
										</Equation>
										<!-- RBCReport_ = _L10; -->
										<Equation>
											<lefts>
												<VariableRef name="RBCReport_"/>
											</lefts>
											<right>
												<IdExpression>
													<path>
														<ConstVarRef name="_L10"/>
													</path>
												</IdExpression>
											</right>
											<pragmas>
												<ed:Equation oid="!ed/526e/3639/2F64/53983ea32fb6"/>
											</pragmas>
										</Equation>
										<!-- FilteredBGMessage_ = _L26; -->
										<Equation>
											<lefts>
												<VariableRef name="FilteredBGMessage_"/>
											</lefts>
											<right>
												<IdExpression>
													<path>
														<ConstVarRef name="_L26"/>
													</path>
												</IdExpression>
											</right>
											<pragmas>
												<ed:Equation oid="!ed/5274/3639/2F64/53983eab2296"/>
											</pragmas>
										</Equation>
									</data>
									<pragmas>
										<ed:State oid="!ed/5389/6BC5/1918/53898880623b"/>
									</pragmas>
								</State>
								<State name="NoAck">
									<locals>
										<Variable name="_L6">
											<type>
												<NamedType>
													<type>
														<TypeRef name="Q_DIRTRAIN"/>
													</type>
												</NamedType>
											</type>
											<pragmas>
												<ed:Variable oid="!ed/52fb/3639/2F64/53983f6b7a9b"/>
											</pragmas>
										</Variable>
										<Variable name="_L5">
											<type>
												<NamedType>
													<type>
														<TypeRef name="Coordinate_System::BTM::BG_Message_T"/>
													</type>
												</NamedType>
											</type>
											<pragmas>
												<ed:Variable oid="!ed/52f9/3639/2F64/53983f6b5e0"/>
											</pragmas>
										</Variable>
										<Variable name="_L4">
											<type>
												<NamedType>
													<type>
														<TypeRef name="Coordinate_System::BTM::FilteredBGMessage_T"/>
													</type>
												</NamedType>
											</type>
											<pragmas>
												<ed:Variable oid="!ed/52f6/3639/2F64/53983f6b74ba"/>
											</pragmas>
										</Variable>
									</locals>
									<data>
										<!-- _L4 = (make Coordinate_System::BTM::FilteredBGMessage_T)(_L6, _L5); -->
										<Equation>
											<lefts>
												<VariableRef name="_L4"/>
											</lefts>
											<right>
												<!-- (make Coordinate_System::BTM::FilteredBGMessage_T)(_L6, _L5) -->
												<CallExpression>
													<operator>
														<MakeOp name="17">
															<type>
																<TypeRef name="Coordinate_System::BTM::FilteredBGMessage_T"/>
															</type>
														</MakeOp>
													</operator>
													<callParameters>
														<IdExpression>
															<path>
																<ConstVarRef name="_L6"/>
															</path>
														</IdExpression>
														<IdExpression>
															<path>
																<ConstVarRef name="_L5"/>
															</path>
														</IdExpression>
													</callParameters>
												</CallExpression>
											</right>
											<pragmas>
												<ed:Equation oid="!ed/52f5/3639/2F64/53983f6b1ed4"/>
											</pragmas>
										</Equation>
										<!-- FilteredBGMessage_ = _L4; -->
										<Equation>
											<lefts>
												<VariableRef name="FilteredBGMessage_"/>
											</lefts>
											<right>
												<IdExpression>
													<path>
														<ConstVarRef name="_L4"/>
													</path>
												</IdExpression>
											</right>
											<pragmas>
												<ed:Equation oid="!ed/52f7/3639/2F64/53983f6b826"/>
											</pragmas>
										</Equation>
										<!-- _L5 = CheckedBGMessage_; -->
										<Equation>
											<lefts>
												<VariableRef name="_L5"/>
											</lefts>
											<right>
												<IdExpression>
													<path>
														<ConstVarRef name="CheckedBGMessage_"/>
													</path>
												</IdExpression>
											</right>
											<pragmas>
												<ed:Equation oid="!ed/52f8/3639/2F64/53983f6b4cfb"/>
											</pragmas>
										</Equation>
										<!-- _L6 = Orientation_; -->
										<Equation>
											<lefts>
												<VariableRef name="_L6"/>
											</lefts>
											<right>
												<IdExpression>
													<path>
														<ConstVarRef name="Orientation_"/>
													</path>
												</IdExpression>
											</right>
											<pragmas>
												<ed:Equation oid="!ed/52fa/3639/2F64/53983f6b76f4"/>
											</pragmas>
										</Equation>
									</data>
									<pragmas>
										<ed:State oid="!ed/53a7/6BC5/1918/538988804960"/>
									</pragmas>
								</State>
							</states>
							<pragmas>
								<ed:StateMachine oid="!ed/5385/6BC5/1918/538988804642"/>
							</pragmas>
						</StateMachine>
					</data>
					<pragmas>
						<ed:State oid="!ed/5384/6BC5/1918/53898880b6"/>
					</pragmas>
				</State>
			</states>
			<pragmas>
				<ed:StateMachine oid="!ed/5378/6BC5/1918/538988803937"/>
			</pragmas>
		</StateMachine>
	</data>
	<pragmas>
		<ed:Operator oid="!ed/521d/1BEF/2E0C/537b4afd6e98" xmlns="http://www.esterel-technologies.com/ns/scade/pragmas/editor/4">
			<diagrams>
				<NetDiagram name="diagram_FinalCheck_1" landscape="true" format="A4 (210 297)" oid="!ed/521e/1BEF/2E0C/537b4afd5a">
					<presentationElements>
						<StateMachineGE presentable="!ed/5378/6BC5/1918/538988803937">
							<position>
								<Point x="0" y="159"/>
							</position>
							<size>
								<Size width="36989" height="20929"/>
							</size>
						</StateMachineGE>
						<StateGE presentable="!ed/5379/6BC5/1918/538988805e9">
							<position>
								<Point x="1297" y="900"/>
							</position>
							<size>
								<Size width="1773" height="1878"/>
							</size>
						</StateGE>
						<StateGE presentable="!ed/537c/6BC5/1918/5389888074ed">
							<position>
								<Point x="16643" y="450"/>
							</position>
							<size>
								<Size width="10319" height="4921"/>
							</size>
						</StateGE>
						<EquationGE presentable="!ed/537e/6BC5/1918/5389888057e4">
							<position>
								<Point x="21397" y="2294"/>
							</position>
							<size>
								<Size width="1286" height="1286"/>
							</size>
						</EquationGE>
						<StateGE presentable="!ed/5384/6BC5/1918/53898880b6">
							<position>
								<Point x="3228" y="6085"/>
							</position>
							<size>
								<Size width="33497" height="14050"/>
							</size>
						</StateGE>
						<StateMachineGE presentable="!ed/5385/6BC5/1918/538988804642">
							<position>
								<Point x="6483" y="7461"/>
							</position>
							<size>
								<Size width="29607" height="12198"/>
							</size>
						</StateMachineGE>
						<StateGE presentable="!ed/5386/6BC5/1918/538988804e76">
							<position>
								<Point x="6747" y="9763"/>
							</position>
							<size>
								<Size width="1852" height="1773"/>
							</size>
						</StateGE>
						<StateGE presentable="!ed/5389/6BC5/1918/53898880623b">
							<position>
								<Point x="15796" y="7514"/>
							</position>
							<size>
								<Size width="19976" height="7673"/>
							</size>
						</StateGE>
						<EquationGE presentable="!ed/538b/6BC5/1918/5389888040d4">
							<position>
								<Point x="29387" y="8353"/>
							</position>
							<size>
								<Size width="2106" height="2688"/>
							</size>
						</EquationGE>
						<EquationGE presentable="!ed/538c/6BC5/1918/538988805724">
							<position>
								<Point x="22595" y="9816"/>
							</position>
							<size>
								<Size width="1270" height="1270"/>
							</size>
						</EquationGE>
						<EquationGE presentable="!ed/538d/6BC5/1918/53898880542d">
							<position>
								<Point x="24783" y="8273"/>
							</position>
							<size>
								<Size width="1286" height="2900"/>
							</size>
						</EquationGE>
						<EquationGE presentable="!ed/538e/6BC5/1918/538988802997">
							<position>
								<Point x="30877" y="12938"/>
							</position>
							<size>
								<Size width="1270" height="1270"/>
							</size>
						</EquationGE>
						<EquationGE presentable="!ed/5390/6BC5/1918/538988801079">
							<position>
								<Point x="29105" y="13679"/>
							</position>
							<size>
								<Size width="1005" height="926"/>
							</size>
						</EquationGE>
						<EquationGE presentable="!ed/5391/6BC5/1918/5389888078c2">
							<position>
								<Point x="28179" y="11800"/>
							</position>
							<size>
								<Size width="1005" height="661"/>
							</size>
						</EquationGE>
						<EquationGE kind="OBJ_LIT" presentable="!ed/5392/6BC5/1918/538988803457">
							<position>
								<Point x="27385" y="14367"/>
							</position>
							<size>
								<Size width="211" height="317"/>
							</size>
						</EquationGE>
						<EquationGE kind="OBJ_LIT" presentable="!ed/5393/6BC5/1918/5389888015f6">
							<position>
								<Point x="27438" y="13944"/>
							</position>
							<size>
								<Size width="211" height="317"/>
							</size>
						</EquationGE>
						<EquationGE kind="OBJ_LIT" presentable="!ed/5394/6BC5/1918/538988801ef0">
							<position>
								<Point x="28761" y="12965"/>
							</position>
							<size>
								<Size width="212" height="317"/>
							</size>
						</EquationGE>
						<StateGE presentable="!ed/53a7/6BC5/1918/538988804960">
							<position>
								<Point x="16960" y="15584"/>
							</position>
							<size>
								<Size width="13335" height="3598"/>
							</size>
						</StateGE>
						<Edge leftVarIndex="1" rightExprIndex="2" srcEquation="!ed/5394/6BC5/1918/538988801ef0" dstEquation="!ed/5391/6BC5/1918/5389888078c2">
							<positions>
								<Point x="28972" y="13123"/>
								<Point x="30295" y="13123"/>
								<Point x="30295" y="12726"/>
								<Point x="27331" y="12726"/>
								<Point x="27331" y="12250"/>
								<Point x="28178" y="12250"/>
							</positions>
						</Edge>
						<Edge leftVarIndex="6" rightExprIndex="1" srcEquation="!ed/538d/6BC5/1918/53898880542d" dstEquation="!ed/5391/6BC5/1918/5389888078c2">
							<positions>
								<Point x="26061" y="10742"/>
								<Point x="27120" y="10742"/>
								<Point x="27120" y="12012"/>
								<Point x="28178" y="12012"/>
							</positions>
						</Edge>
						<Edge leftVarIndex="1" rightExprIndex="3" srcEquation="!ed/5392/6BC5/1918/538988803457" dstEquation="!ed/5390/6BC5/1918/538988801079">
							<positions>
								<Point x="27596" y="14526"/>
								<Point x="28337" y="14526"/>
								<Point x="28337" y="14288"/>
								<Point x="29104" y="14288"/>
							</positions>
						</Edge>
						<Edge leftVarIndex="1" rightExprIndex="2" srcEquation="!ed/5393/6BC5/1918/5389888015f6" dstEquation="!ed/5390/6BC5/1918/538988801079">
							<positions>
								<Point x="27649" y="14102"/>
								<Point x="28363" y="14102"/>
								<Point x="28363" y="13996"/>
								<Point x="29104" y="13996"/>
							</positions>
						</Edge>
						<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/5391/6BC5/1918/5389888078c2" dstEquation="!ed/5390/6BC5/1918/538988801079">
							<positions>
								<Point x="29184" y="12144"/>
								<Point x="29607" y="12144"/>
								<Point x="29607" y="13679"/>
							</positions>
						</Edge>
						<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/5390/6BC5/1918/538988801079" dstEquation="!ed/538e/6BC5/1918/538988802997">
							<positions>
								<Point x="30110" y="14155"/>
								<Point x="30533" y="14155"/>
								<Point x="30533" y="13361"/>
								<Point x="30877" y="13361"/>
							</positions>
						</Edge>
						<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/538c/6BC5/1918/538988805724" dstEquation="!ed/538d/6BC5/1918/53898880542d">
							<positions>
								<Point x="23865" y="10451"/>
								<Point x="24553" y="10451"/>
								<Point x="24553" y="9737"/>
								<Point x="24791" y="9737"/>
							</positions>
						</Edge>
						<Edge leftVarIndex="2" rightExprIndex="2" srcEquation="!ed/538d/6BC5/1918/53898880542d" dstEquation="!ed/538b/6BC5/1918/5389888040d4">
							<positions>
								<Point x="26061" y="9102"/>
								<Point x="27199" y="9102"/>
								<Point x="27199" y="9102"/>
								<Point x="29395" y="9102"/>
							</positions>
						</Edge>
						<Edge leftVarIndex="3" rightExprIndex="3" srcEquation="!ed/538d/6BC5/1918/53898880542d" dstEquation="!ed/538b/6BC5/1918/5389888040d4">
							<positions>
								<Point x="26061" y="9525"/>
								<Point x="27543" y="9525"/>
								<Point x="27543" y="9525"/>
								<Point x="29395" y="9525"/>
							</positions>
						</Edge>
						<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/538d/6BC5/1918/53898880542d" dstEquation="!ed/538b/6BC5/1918/5389888040d4">
							<positions>
								<Point x="26061" y="8705"/>
								<Point x="26564" y="8705"/>
								<Point x="26564" y="8705"/>
								<Point x="29395" y="8705"/>
							</positions>
						</Edge>
						<TransitionGE presentable="!ed/537a/6BC5/1918/53898880453d">
							<positions>
								<Point x="2911" y="1746"/>
								<Point x="3572" y="582"/>
								<Point x="16272" y="3228"/>
								<Point x="16643" y="1720"/>
							</positions>
							<labelSize>
								<Size width="8916" height="1588"/>
							</labelSize>
							<labelPos>
								<Point x="6985" y="370"/>
							</labelPos>
							<slashPos>
								<Point x="9869" y="370"/>
							</slashPos>
						</TransitionGE>
						<TransitionGE presentable="!ed/537b/6BC5/1918/538988804eb3">
							<positions>
								<Point x="2911" y="2143"/>
								<Point x="4128" y="3810"/>
								<Point x="1985" y="10610"/>
								<Point x="3228" y="12277"/>
							</positions>
							<labelSize>
								<Size width="4048" height="3493"/>
							</labelSize>
							<labelPos>
								<Point x="4684" y="2646"/>
							</labelPos>
							<slashPos>
								<Point x="7938" y="2646"/>
							</slashPos>
						</TransitionGE>
						<TransitionGE presentable="!ed/5387/6BC5/1918/538988802802">
							<positions>
								<Point x="8599" y="10345"/>
								<Point x="11192" y="10345"/>
								<Point x="13150" y="10160"/>
								<Point x="15796" y="10160"/>
							</positions>
							<labelSize>
								<Size width="4895" height="953"/>
							</labelSize>
							<labelPos>
								<Point x="10213" y="7567"/>
							</labelPos>
							<slashPos>
								<Point x="13917" y="7567"/>
							</slashPos>
						</TransitionGE>
						<TransitionGE presentable="!ed/5388/6BC5/1918/53898880ed2">
							<positions>
								<Point x="8599" y="11033"/>
								<Point x="10795" y="12674"/>
								<Point x="13812" y="17515"/>
								<Point x="16960" y="17198"/>
							</positions>
							<labelSize>
								<Size width="4128" height="1905"/>
							</labelSize>
							<labelPos>
								<Point x="10848" y="11192"/>
							</labelPos>
							<slashPos>
								<Point x="14182" y="11192"/>
							</slashPos>
						</TransitionGE>
						<EquationGE presentable="!ed/5236/3639/2F64/53983e431e34">
							<position>
								<Point x="18891" y="2381"/>
							</position>
							<size>
								<Size width="265" height="503"/>
							</size>
						</EquationGE>
						<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/5236/3639/2F64/53983e431e34" dstEquation="!ed/537e/6BC5/1918/5389888057e4">
							<positions>
								<Point x="19156" y="2646"/>
								<Point x="20267" y="2646"/>
								<Point x="20267" y="2725"/>
								<Point x="21405" y="2725"/>
							</positions>
						</Edge>
						<EquationGE presentable="!ed/5240/3639/2F64/53983e4e53ac">
							<position>
								<Point x="23574" y="2725"/>
							</position>
							<size>
								<Size width="318" height="503"/>
							</size>
						</EquationGE>
						<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/537e/6BC5/1918/5389888057e4" dstEquation="!ed/5240/3639/2F64/53983e4e53ac">
							<positions>
								<Point x="22675" y="2937"/>
								<Point x="23654" y="2937"/>
								<Point x="23654" y="2990"/>
								<Point x="23627" y="2990"/>
							</positions>
						</Edge>
						<EquationGE presentable="!ed/5249/3639/2F64/53983e606bed">
							<position>
								<Point x="19579" y="3704"/>
							</position>
							<size>
								<Size width="265" height="503"/>
							</size>
						</EquationGE>
						<Edge leftVarIndex="1" rightExprIndex="2" srcEquation="!ed/5249/3639/2F64/53983e606bed" dstEquation="!ed/537e/6BC5/1918/5389888057e4">
							<positions>
								<Point x="19844" y="3969"/>
								<Point x="20082" y="3969"/>
								<Point x="20082" y="3149"/>
								<Point x="21405" y="3149"/>
							</positions>
						</Edge>
						<EquationGE presentable="!ed/5259/3639/2F64/53983e85731">
							<position>
								<Point x="19526" y="9710"/>
							</position>
							<size>
								<Size width="265" height="503"/>
							</size>
						</EquationGE>
						<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/5259/3639/2F64/53983e85731" dstEquation="!ed/538c/6BC5/1918/538988805724">
							<positions>
								<Point x="19791" y="9975"/>
								<Point x="21405" y="9975"/>
								<Point x="21405" y="10451"/>
								<Point x="22595" y="10451"/>
							</positions>
						</Edge>
						<EquationGE presentable="!ed/5266/3639/2F64/53983e9c2af5">
							<position>
								<Point x="19606" y="11298"/>
							</position>
							<size>
								<Size width="264" height="502"/>
							</size>
						</EquationGE>
						<Edge leftVarIndex="1" rightExprIndex="2" srcEquation="!ed/5266/3639/2F64/53983e9c2af5" dstEquation="!ed/538e/6BC5/1918/538988802997">
							<positions>
								<Point x="19870" y="11562"/>
								<Point x="25374" y="11562"/>
								<Point x="25374" y="13785"/>
								<Point x="30877" y="13785"/>
							</positions>
						</Edge>
						<EquationGE presentable="!ed/526e/3639/2F64/53983ea32fb6">
							<position>
								<Point x="32517" y="9790"/>
							</position>
							<size>
								<Size width="318" height="502"/>
							</size>
						</EquationGE>
						<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/538b/6BC5/1918/5389888040d4" dstEquation="!ed/526e/3639/2F64/53983ea32fb6">
							<positions>
								<Point x="31485" y="9710"/>
								<Point x="31909" y="9710"/>
								<Point x="31909" y="10054"/>
								<Point x="32570" y="10054"/>
							</positions>
						</Edge>
						<EquationGE presentable="!ed/5274/3639/2F64/53983eab2296">
							<position>
								<Point x="32729" y="11060"/>
							</position>
							<size>
								<Size width="212" height="502"/>
							</size>
						</EquationGE>
						<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/538e/6BC5/1918/538988802997" dstEquation="!ed/5274/3639/2F64/53983eab2296">
							<positions>
								<Point x="32147" y="13573"/>
								<Point x="32623" y="13573"/>
								<Point x="32623" y="11324"/>
								<Point x="32755" y="11324"/>
							</positions>
						</Edge>
						<EquationGE presentable="!ed/52f5/3639/2F64/53983f6b1ed4">
							<position>
								<Point x="23204" y="16748"/>
							</position>
							<size>
								<Size width="1270" height="1270"/>
							</size>
						</EquationGE>
						<EquationGE presentable="!ed/52f7/3639/2F64/53983f6b826">
							<position>
								<Point x="25374" y="17171"/>
							</position>
							<size>
								<Size width="317" height="503"/>
							</size>
						</EquationGE>
						<EquationGE presentable="!ed/52f8/3639/2F64/53983f6b4cfb">
							<position>
								<Point x="21378" y="18150"/>
							</position>
							<size>
								<Size width="265" height="503"/>
							</size>
						</EquationGE>
						<EquationGE presentable="!ed/52fa/3639/2F64/53983f6b76f4">
							<position>
								<Point x="20690" y="16828"/>
							</position>
							<size>
								<Size width="265" height="502"/>
							</size>
						</EquationGE>
						<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/52f5/3639/2F64/53983f6b1ed4" dstEquation="!ed/52f7/3639/2F64/53983f6b826">
							<positions>
								<Point x="24474" y="17383"/>
								<Point x="25453" y="17383"/>
								<Point x="25453" y="17436"/>
								<Point x="25426" y="17436"/>
							</positions>
						</Edge>
						<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/52fa/3639/2F64/53983f6b76f4" dstEquation="!ed/52f5/3639/2F64/53983f6b1ed4">
							<positions>
								<Point x="20955" y="17092"/>
								<Point x="22066" y="17092"/>
								<Point x="22066" y="17171"/>
								<Point x="23204" y="17171"/>
							</positions>
						</Edge>
						<Edge leftVarIndex="1" rightExprIndex="2" srcEquation="!ed/52f8/3639/2F64/53983f6b4cfb" dstEquation="!ed/52f5/3639/2F64/53983f6b1ed4">
							<positions>
								<Point x="21643" y="18415"/>
								<Point x="21881" y="18415"/>
								<Point x="21881" y="17595"/>
								<Point x="23204" y="17595"/>
							</positions>
						</Edge>
						<Edge leftVarIndex="5" rightExprIndex="6" srcEquation="!ed/538d/6BC5/1918/53898880542d" dstEquation="!ed/538b/6BC5/1918/5389888040d4">
							<positions>
								<Point x="26061" y="10345"/>
								<Point x="27728" y="10345"/>
								<Point x="27728" y="10663"/>
								<Point x="29395" y="10663"/>
							</positions>
						</Edge>
						<Edge leftVarIndex="4" rightExprIndex="5" srcEquation="!ed/538d/6BC5/1918/53898880542d" dstEquation="!ed/538b/6BC5/1918/5389888040d4">
							<positions>
								<Point x="26061" y="9922"/>
								<Point x="27728" y="9922"/>
								<Point x="27728" y="10266"/>
								<Point x="29395" y="10266"/>
							</positions>
						</Edge>
						<Edge leftVarIndex="4" rightExprIndex="4" srcEquation="!ed/538d/6BC5/1918/53898880542d" dstEquation="!ed/538b/6BC5/1918/5389888040d4">
							<positions>
								<Point x="26061" y="9922"/>
								<Point x="27728" y="9922"/>
								<Point x="27728" y="9922"/>
								<Point x="29395" y="9922"/>
							</positions>
						</Edge>
					</presentationElements>
				</NetDiagram>
			</diagrams>
		</ed:Operator>
	</pragmas>
</Operator>
