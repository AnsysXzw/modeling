%set the master document for easy compilation
%!TEX root = ../D3_5_3.tex

\paragraph{Component Requirements}

\begin{longtable}{p{.25\textwidth}p{.7\textwidth}}
\toprule
Component name			& Calculate\_Train\_Position \\
\midrule
Link to SCADE model		& {\footnotesize \url{???}} \\
\midrule
SCADE designer			& ??? \\
\midrule
Description				& The main purpose of the function is to calculate the locations of linked and unlinked balise groups (BGs) and the current train position while the train is running along the track. In detail, the calculateTrainPosition function provides a couple of essential subfunctions for the onboard unit. These are mainly
\begin{itemize}
\item creating and maintaining an obu internal coordinate system for all types of location based data
\item storing all linked and unlinked balise groups resulting from over passing or from announcements (linking information) from the track
\item calculating and maintaining the locations of all stored balise groups during the train trip, based on odometry and linking information
\item permanently calculating the current train position based on odometry and passed balise group information
\item providing the last recently passed linked balise group as the LRBG
\item providing additional position attribute information
\item deleting stored balise groups, when appropriate
\item detecting linking consistency errors
\item determining, if linking is used on board
\end{itemize}
The calculation algorithms for locations and positions are implemented as specified in 
{\footnotesize\url{https://github.com/openETCS/SRS-Analysis/blob/master/System%20Analysis/WorkingRepository/Group4/SUBSET_26_3-6/DetermineTrainLocationProcedures.pdf}} \\
\midrule
Input documents	& 
Subset-026, Chapter 3.6 \\
\midrule
Safety integrity level		& 4 \\
\midrule
Time constraints		& [If applicable description of time constraints, otherwise n/a] \\
\midrule
API requirements 		& [If applicable description of API requirements, otherwise n/a] \\
\bottomrule
\end{longtable}


\paragraph{Interface}

For an overview of the interface of this internal component we refer to the SCADE model (c.f.~link above) respectively the SCADE generated documentation.