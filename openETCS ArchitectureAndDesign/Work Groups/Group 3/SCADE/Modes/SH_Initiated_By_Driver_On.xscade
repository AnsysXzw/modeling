<?xml version="1.0" encoding="UTF-8"?>
<Operator xmlns="http://www.esterel-technologies.com/ns/scade/4" xmlns:ed="http://www.esterel-technologies.com/ns/scade/pragmas/editor/4" xmlns:kcg="http://www.esterel-technologies.com/ns/scade/pragmas/codegen/2" kind="node" name="SH_Initiated_By_Driver_On">
	<inputs>
		<Variable name="Current_Level">
			<type>
				<NamedType>
					<type>
						<TypeRef name="T_Level"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/beaf/549/AB8/54afff2b505"/>
			</pragmas>
		</Variable>
		<Variable name="Driver_Req_SH">
			<type>
				<NamedType>
					<type>
						<TypeRef name="bool"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/beb6/549/AB8/54afff2b3aa5"/>
			</pragmas>
		</Variable>
		<Variable name="On_Going_Mission">
			<type>
				<NamedType>
					<type>
						<TypeRef name="bool"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/beb2/549/AB8/54afff2b596b"/>
			</pragmas>
		</Variable>
		<Variable name="Shunting_Granted_By_RBC">
			<type>
				<NamedType>
					<type>
						<TypeRef name="bool"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/beb7/549/AB8/54afff2b7f25"/>
			</pragmas>
		</Variable>
	</inputs>
	<outputs>
		<Variable name="Clean_BG_List_SH_Area">
			<type>
				<NamedType>
					<type>
						<TypeRef name="bool"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/bec0/549/AB8/54afff2b2608"/>
			</pragmas>
		</Variable>
		<Variable name="Condition5">
			<type>
				<NamedType>
					<type>
						<TypeRef name="bool"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/bebe/549/AB8/54afff2b366f"/>
			</pragmas>
		</Variable>
		<Variable name="Condition6">
			<type>
				<NamedType>
					<type>
						<TypeRef name="bool"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/bebf/549/AB8/54afff2b2ece"/>
			</pragmas>
		</Variable>
		<Variable name="End_Of_Mission_Procedure_Req">
			<type>
				<NamedType>
					<type>
						<TypeRef name="bool"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/bebd/549/AB8/54afff2b5b29"/>
			</pragmas>
		</Variable>
		<Variable name="SH_Refused_By_RBC_To_DMI">
			<type>
				<NamedType>
					<type>
						<TypeRef name="bool"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/bebc/549/AB8/54afff2b688"/>
			</pragmas>
		</Variable>
		<Variable name="Request_For_SH_To_RBC">
			<type>
				<NamedType>
					<type>
						<TypeRef name="bool"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/bebb/549/AB8/54afff2b2fd2"/>
			</pragmas>
		</Variable>
	</outputs>
	<signals>
		<Signal name="Loc_Condition_6">
			<pragmas>
				<ed:Signal oid="!ed/beba/549/AB8/54afff2b661f"/>
			</pragmas>
		</Signal>
		<Signal name="Loc_Condition_5">
			<pragmas>
				<ed:Signal oid="!ed/beb9/549/AB8/54afff2b2790"/>
			</pragmas>
		</Signal>
		<Signal name="Loc_SH_Refused_By_RBC_To_DMI">
			<pragmas>
				<ed:Signal oid="!ed/beb8/549/AB8/54afff2b599a"/>
			</pragmas>
		</Signal>
		<Signal name="Loc_Request_For_SH_To_RBC">
			<pragmas>
				<ed:Signal oid="!ed/beb5/549/AB8/54afff2bf97"/>
			</pragmas>
		</Signal>
		<Signal name="Loc_Clean_BG_SH_Area">
			<pragmas>
				<ed:Signal oid="!ed/beb4/549/AB8/54afff2b3146"/>
			</pragmas>
		</Signal>
		<Signal name="Loc_EOM_Req">
			<pragmas>
				<ed:Signal oid="!ed/beb3/549/AB8/54afff2b5700"/>
			</pragmas>
		</Signal>
	</signals>
	<locals>
		<Variable name="Loc_Level_2_3">
			<type>
				<NamedType>
					<type>
						<TypeRef name="bool"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/bead/549/AB8/54afff2b2d11"/>
			</pragmas>
		</Variable>
		<Variable name="_L22">
			<type>
				<NamedType>
					<type>
						<TypeRef name="bool"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/bf1a/549/AB8/54afff2b6b5b"/>
			</pragmas>
		</Variable>
		<Variable name="_L18">
			<type>
				<NamedType>
					<type>
						<TypeRef name="bool"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/bf12/549/AB8/54afff2bf4f"/>
			</pragmas>
		</Variable>
		<Variable name="_L15">
			<type>
				<NamedType>
					<type>
						<TypeRef name="bool"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/bf0b/549/AB8/54afff2b714"/>
			</pragmas>
		</Variable>
		<Variable name="_L14">
			<type>
				<NamedType>
					<type>
						<TypeRef name="T_Level"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/bf09/549/AB8/54afff2b20f7"/>
			</pragmas>
		</Variable>
		<Variable name="_L13">
			<type>
				<NamedType>
					<type>
						<TypeRef name="bool"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/bf07/549/AB8/54afff2b47b6"/>
			</pragmas>
		</Variable>
		<Variable name="_L12">
			<type>
				<NamedType>
					<type>
						<TypeRef name="bool"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/bf05/549/AB8/54afff2bbb3"/>
			</pragmas>
		</Variable>
		<Variable name="_L10">
			<type>
				<NamedType>
					<type>
						<TypeRef name="bool"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/bf01/549/AB8/54afff2b3fce"/>
			</pragmas>
		</Variable>
		<Variable name="_L7">
			<type>
				<NamedType>
					<type>
						<TypeRef name="bool"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/bef8/549/AB8/54afff2b4afe"/>
			</pragmas>
		</Variable>
		<Variable name="_L5">
			<type>
				<NamedType>
					<type>
						<TypeRef name="bool"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/bef3/549/AB8/54afff2b3fe4"/>
			</pragmas>
		</Variable>
		<Variable name="_L4">
			<type>
				<NamedType>
					<type>
						<TypeRef name="bool"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/bef0/549/AB8/54afff2b77d7"/>
			</pragmas>
		</Variable>
		<Variable name="_L2">
			<type>
				<NamedType>
					<type>
						<TypeRef name="bool"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/beec/549/AB8/54afff2b5fc8"/>
			</pragmas>
		</Variable>
	</locals>
	<data>
		<!-- Condition5 = _L18; -->
		<Equation>
			<lefts>
				<VariableRef name="Condition5"/>
			</lefts>
			<right>
				<IdExpression>
					<path>
						<ConstVarRef name="_L18"/>
					</path>
				</IdExpression>
			</right>
			<pragmas>
				<ed:Equation oid="!ed/beea/549/AB8/54afff2b301d"/>
			</pragmas>
		</Equation>
		<!-- _L2 = true; -->
		<Equation>
			<lefts>
				<VariableRef name="_L2"/>
			</lefts>
			<right>
				<ConstValue value="true"/>
			</right>
			<pragmas>
				<ed:Equation oid="!ed/beeb/549/AB8/54afff2b7bca"/>
			</pragmas>
		</Equation>
		<!-- _L4 = false; -->
		<Equation>
			<lefts>
				<VariableRef name="_L4"/>
			</lefts>
			<right>
				<ConstValue value="false"/>
			</right>
			<pragmas>
				<ed:Equation oid="!ed/beef/549/AB8/54afff2b1565"/>
			</pragmas>
		</Equation>
		<!-- SH_Refused_By_RBC_To_DMI = _L22; -->
		<Equation>
			<lefts>
				<VariableRef name="SH_Refused_By_RBC_To_DMI"/>
			</lefts>
			<right>
				<IdExpression>
					<path>
						<ConstVarRef name="_L22"/>
					</path>
				</IdExpression>
			</right>
			<pragmas>
				<ed:Equation oid="!ed/bef1/549/AB8/54afff2b5b5d"/>
			</pragmas>
		</Equation>
		<!-- _L5 =  'Loc_Condition_6; -->
		<Equation>
			<lefts>
				<VariableRef name="_L5"/>
			</lefts>
			<right>
				<Present>
					<signal>
						<SignalRef name="Loc_Condition_6"/>
					</signal>
				</Present>
			</right>
			<pragmas>
				<ed:Equation oid="!ed/bef2/549/AB8/54afff2baa7"/>
			</pragmas>
		</Equation>
		<!-- End_Of_Mission_Procedure_Req = _L15; -->
		<Equation>
			<lefts>
				<VariableRef name="End_Of_Mission_Procedure_Req"/>
			</lefts>
			<right>
				<IdExpression>
					<path>
						<ConstVarRef name="_L15"/>
					</path>
				</IdExpression>
			</right>
			<pragmas>
				<ed:Equation oid="!ed/bef6/549/AB8/54afff2b562f"/>
			</pragmas>
		</Equation>
		<!-- _L7 = ( case _L14 of  | L2 :   _L2 | L3 :   _L13 | _ :   _L4); -->
		<Equation>
			<lefts>
				<VariableRef name="_L7"/>
			</lefts>
			<right>
				<!-- ( case _L14 of  | L2 :   _L2 | L3 :   _L13 | _ :   _L4) -->
				<CaseOp name="2">
					<switch>
						<IdExpression>
							<path>
								<ConstVarRef name="_L14"/>
							</path>
						</IdExpression>
					</switch>
					<cases>
						<Case pattern="L2">
							<flow>
								<IdExpression>
									<path>
										<ConstVarRef name="_L2"/>
									</path>
								</IdExpression>
							</flow>
						</Case>
						<Case pattern="L3">
							<flow>
								<IdExpression>
									<path>
										<ConstVarRef name="_L13"/>
									</path>
								</IdExpression>
							</flow>
						</Case>
						<Case>
							<flow>
								<IdExpression>
									<path>
										<ConstVarRef name="_L4"/>
									</path>
								</IdExpression>
							</flow>
						</Case>
					</cases>
				</CaseOp>
			</right>
			<pragmas>
				<ed:Equation oid="!ed/bef7/549/AB8/54afff2b68f0"/>
			</pragmas>
		</Equation>
		<!-- Condition6 = _L5; -->
		<Equation>
			<lefts>
				<VariableRef name="Condition6"/>
			</lefts>
			<right>
				<IdExpression>
					<path>
						<ConstVarRef name="_L5"/>
					</path>
				</IdExpression>
			</right>
			<pragmas>
				<ed:Equation oid="!ed/befe/549/AB8/54afff2b4ac1"/>
			</pragmas>
		</Equation>
		<!-- Loc_Level_2_3 = _L7; -->
		<Equation>
			<lefts>
				<VariableRef name="Loc_Level_2_3"/>
			</lefts>
			<right>
				<IdExpression>
					<path>
						<ConstVarRef name="_L7"/>
					</path>
				</IdExpression>
			</right>
			<pragmas>
				<ed:Equation oid="!ed/beff/549/AB8/54afff2b50e1"/>
			</pragmas>
		</Equation>
		<!-- _L10 =  'Loc_Request_For_SH_To_RBC; -->
		<Equation>
			<lefts>
				<VariableRef name="_L10"/>
			</lefts>
			<right>
				<Present>
					<signal>
						<SignalRef name="Loc_Request_For_SH_To_RBC"/>
					</signal>
				</Present>
			</right>
			<pragmas>
				<ed:Equation oid="!ed/bf00/549/AB8/54afff2b6b5"/>
			</pragmas>
		</Equation>
		<!-- _L12 =  'Loc_Clean_BG_SH_Area; -->
		<Equation>
			<lefts>
				<VariableRef name="_L12"/>
			</lefts>
			<right>
				<Present>
					<signal>
						<SignalRef name="Loc_Clean_BG_SH_Area"/>
					</signal>
				</Present>
			</right>
			<pragmas>
				<ed:Equation oid="!ed/bf04/549/AB8/54afff2b5dfd"/>
			</pragmas>
		</Equation>
		<!-- _L13 = true; -->
		<Equation>
			<lefts>
				<VariableRef name="_L13"/>
			</lefts>
			<right>
				<ConstValue value="true"/>
			</right>
			<pragmas>
				<ed:Equation oid="!ed/bf06/549/AB8/54afff2b548e"/>
			</pragmas>
		</Equation>
		<!-- _L14 = Current_Level; -->
		<Equation>
			<lefts>
				<VariableRef name="_L14"/>
			</lefts>
			<right>
				<IdExpression>
					<path>
						<ConstVarRef name="Current_Level"/>
					</path>
				</IdExpression>
			</right>
			<pragmas>
				<ed:Equation oid="!ed/bf08/549/AB8/54afff2b7a04"/>
			</pragmas>
		</Equation>
		<!-- _L15 =  'Loc_EOM_Req; -->
		<Equation>
			<lefts>
				<VariableRef name="_L15"/>
			</lefts>
			<right>
				<Present>
					<signal>
						<SignalRef name="Loc_EOM_Req"/>
					</signal>
				</Present>
			</right>
			<pragmas>
				<ed:Equation oid="!ed/bf0a/549/AB8/54afff2bef8"/>
			</pragmas>
		</Equation>
		<!-- Request_For_SH_To_RBC = _L10; -->
		<Equation>
			<lefts>
				<VariableRef name="Request_For_SH_To_RBC"/>
			</lefts>
			<right>
				<IdExpression>
					<path>
						<ConstVarRef name="_L10"/>
					</path>
				</IdExpression>
			</right>
			<pragmas>
				<ed:Equation oid="!ed/bf0e/549/AB8/54afff2b5ddf"/>
			</pragmas>
		</Equation>
		<!-- _L18 =  'Loc_Condition_5; -->
		<Equation>
			<lefts>
				<VariableRef name="_L18"/>
			</lefts>
			<right>
				<Present>
					<signal>
						<SignalRef name="Loc_Condition_5"/>
					</signal>
				</Present>
			</right>
			<pragmas>
				<ed:Equation oid="!ed/bf11/549/AB8/54afff2b463d" xmlns="http://www.esterel-technologies.com/ns/scade/pragmas/editor/4">
					<comment>Clarification of the use of signal needed :  why signal is defined twice ?</comment>
				</ed:Equation>
			</pragmas>
		</Equation>
		<!-- _L22 =  'Loc_SH_Refused_By_RBC_To_DMI; -->
		<Equation>
			<lefts>
				<VariableRef name="_L22"/>
			</lefts>
			<right>
				<Present>
					<signal>
						<SignalRef name="Loc_SH_Refused_By_RBC_To_DMI"/>
					</signal>
				</Present>
			</right>
			<pragmas>
				<ed:Equation oid="!ed/bf19/549/AB8/54afff2b3612"/>
			</pragmas>
		</Equation>
		<!-- Clean_BG_List_SH_Area = _L12; -->
		<Equation>
			<lefts>
				<VariableRef name="Clean_BG_List_SH_Area"/>
			</lefts>
			<right>
				<IdExpression>
					<path>
						<ConstVarRef name="_L12"/>
					</path>
				</IdExpression>
			</right>
			<pragmas>
				<ed:Equation oid="!ed/bf1b/549/AB8/54afff2b7bd2"/>
			</pragmas>
		</Equation>
		<StateMachine name="SM2">
			<states>
				<State initial="true" name="SH_procedure_possible">
					<unless>
						<Transition>
							<condition>
								<IdExpression>
									<path>
										<ConstVarRef name="Driver_Req_SH"/>
									</path>
								</IdExpression>
							</condition>
							<effect>
								<Action>
									<pragmas>
										<ed:Action oid="!ed/bf5d/549/AB8/54afff522ad7"/>
									</pragmas>
								</Action>
							</effect>
							<forks>
								<ForkBranch>
									<condition>
										<!--  not Loc_Level_2_3 -->
										<UnaryOp name="8" operator="not">
											<operand>
												<IdExpression>
													<path>
														<ConstVarRef name="Loc_Level_2_3"/>
													</path>
												</IdExpression>
											</operand>
										</UnaryOp>
									</condition>
									<effect>
										<Action>
											<data>
												<!--  emit 'Loc_Clean_BG_SH_Area; -->
												<Emission>
													<signals>
														<SignalRef name="Loc_Clean_BG_SH_Area"/>
													</signals>
													<pragmas>
														<ed:Emission oid="!ed/bf59/549/AB8/54afff5213ac"/>
													</pragmas>
												</Emission>
											</data>
											<pragmas>
												<ed:Action oid="!ed/bf58/549/AB8/54afff524163"/>
											</pragmas>
										</Action>
									</effect>
									<forks>
										<ForkBranch kind="restart">
											<target>
												<StateRef name="SH_Authorized_L0_L1_LNTC"/>
											</target>
											<condition>
												<IdExpression>
													<path>
														<ConstVarRef name="On_Going_Mission"/>
													</path>
												</IdExpression>
											</condition>
											<effect>
												<Action>
													<data>
														<!--  emit 'Loc_EOM_Req; -->
														<Emission>
															<signals>
																<SignalRef name="Loc_EOM_Req"/>
															</signals>
															<pragmas>
																<ed:Emission oid="!ed/bf56/549/AB8/54afff523998"/>
															</pragmas>
														</Emission>
													</data>
													<pragmas>
														<ed:Action oid="!ed/bf55/549/AB8/54afff52cad"/>
													</pragmas>
												</Action>
											</effect>
											<pragmas>
												<ed:ForkBranch oid="!ed/bf54/549/AB8/54afff525e24"/>
											</pragmas>
										</ForkBranch>
										<ForkBranch kind="restart">
											<target>
												<StateRef name="SH_Authorized_L0_L1_LNTC"/>
											</target>
											<condition>
												<!--  not On_Going_Mission -->
												<UnaryOp name="7" operator="not">
													<operand>
														<IdExpression>
															<path>
																<ConstVarRef name="On_Going_Mission"/>
															</path>
														</IdExpression>
													</operand>
												</UnaryOp>
											</condition>
											<pragmas>
												<ed:ForkBranch oid="!ed/bf57/549/AB8/54afff521bf8"/>
											</pragmas>
										</ForkBranch>
									</forks>
									<pragmas>
										<ed:ForkBranch oid="!ed/bf53/549/AB8/54afff522fe2" xmlns="http://www.esterel-technologies.com/ns/scade/pragmas/editor/4">
											<comment>D020 Level 0, 1 or NTC</comment>
										</ed:ForkBranch>
									</pragmas>
								</ForkBranch>
								<ForkBranch kind="restart">
									<target>
										<StateRef name="Issue_SH_Request_L2_L3"/>
									</target>
									<condition>
										<IdExpression>
											<path>
												<ConstVarRef name="Loc_Level_2_3"/>
											</path>
										</IdExpression>
									</condition>
									<effect>
										<Action>
											<data>
												<!--  emit 'Loc_Request_For_SH_To_RBC; -->
												<Emission>
													<signals>
														<SignalRef name="Loc_Request_For_SH_To_RBC"/>
													</signals>
													<pragmas>
														<ed:Emission oid="!ed/bf5c/549/AB8/54afff5241fe"/>
													</pragmas>
												</Emission>
											</data>
											<pragmas>
												<ed:Action oid="!ed/bf5b/549/AB8/54afff526c05"/>
											</pragmas>
										</Action>
									</effect>
									<pragmas>
										<ed:ForkBranch oid="!ed/bf5a/549/AB8/54afff521ca1" xmlns="http://www.esterel-technologies.com/ns/scade/pragmas/editor/4">
											<comment>D020 : Level 2 or 3</comment>
										</ed:ForkBranch>
									</pragmas>
								</ForkBranch>
							</forks>
							<pragmas>
								<ed:Transition oid="!ed/bf52/549/AB8/54afff522118" xmlns="http://www.esterel-technologies.com/ns/scade/pragmas/editor/4">
									<comment>E015 transition : Driver selects shunting</comment>
								</ed:Transition>
							</pragmas>
						</Transition>
					</unless>
					<pragmas>
						<ed:State oid="!ed/bf51/549/AB8/54afff526952" xmlns="http://www.esterel-technologies.com/ns/scade/pragmas/editor/4">
							<comment>S0</comment>
						</ed:State>
					</pragmas>
				</State>
				<State name="Issue_SH_Request_L2_L3">
					<unless>
						<Transition>
							<condition>
								<IdExpression>
									<path>
										<ConstVarRef name="Shunting_Granted_By_RBC"/>
									</path>
								</IdExpression>
							</condition>
							<effect>
								<Action>
									<data>
										<!--  emit 'Loc_Clean_BG_SH_Area; -->
										<Emission>
											<signals>
												<SignalRef name="Loc_Clean_BG_SH_Area"/>
											</signals>
											<pragmas>
												<ed:Emission oid="!ed/bf65/549/AB8/54afff526865"/>
											</pragmas>
										</Emission>
									</data>
									<pragmas>
										<ed:Action oid="!ed/bf64/549/AB8/54afff525173"/>
									</pragmas>
								</Action>
							</effect>
							<forks>
								<ForkBranch kind="restart">
									<target>
										<StateRef name="SH_Authorized_L2_L3"/>
									</target>
									<condition>
										<IdExpression>
											<path>
												<ConstVarRef name="On_Going_Mission"/>
											</path>
										</IdExpression>
									</condition>
									<effect>
										<Action>
											<data>
												<!--  emit 'Loc_EOM_Req; -->
												<Emission>
													<signals>
														<SignalRef name="Loc_EOM_Req"/>
													</signals>
													<pragmas>
														<ed:Emission oid="!ed/bf62/549/AB8/54afff5230bb"/>
													</pragmas>
												</Emission>
											</data>
											<pragmas>
												<ed:Action oid="!ed/bf61/549/AB8/54afff527536"/>
											</pragmas>
										</Action>
									</effect>
									<pragmas>
										<ed:ForkBranch oid="!ed/bf60/549/AB8/54afff52aa1"/>
									</pragmas>
								</ForkBranch>
								<ForkBranch kind="restart">
									<target>
										<StateRef name="SH_Authorized_L2_L3"/>
									</target>
									<condition>
										<!--  not On_Going_Mission -->
										<UnaryOp name="9" operator="not">
											<operand>
												<IdExpression>
													<path>
														<ConstVarRef name="On_Going_Mission"/>
													</path>
												</IdExpression>
											</operand>
										</UnaryOp>
									</condition>
									<pragmas>
										<ed:ForkBranch oid="!ed/bf63/549/AB8/54afff52340b"/>
									</pragmas>
								</ForkBranch>
							</forks>
							<pragmas>
								<ed:Transition oid="!ed/bf5f/549/AB8/54afff524dea" xmlns="http://www.esterel-technologies.com/ns/scade/pragmas/editor/4">
									<comment>E090 : transition SH authorized</comment>
								</ed:Transition>
							</pragmas>
						</Transition>
						<Transition kind="restart">
							<target>
								<StateRef name="SH_Unauthorized_L2_L3"/>
							</target>
							<condition>
								<!--  not Shunting_Granted_By_RBC -->
								<UnaryOp name="10" operator="not">
									<operand>
										<IdExpression>
											<path>
												<ConstVarRef name="Shunting_Granted_By_RBC"/>
											</path>
										</IdExpression>
									</operand>
								</UnaryOp>
							</condition>
							<effect>
								<Action>
									<data>
										<!--  emit 'Loc_SH_Refused_By_RBC_To_DMI; -->
										<Emission>
											<signals>
												<SignalRef name="Loc_SH_Refused_By_RBC_To_DMI"/>
											</signals>
											<pragmas>
												<ed:Emission oid="!ed/bf68/549/AB8/54afff5211f8"/>
											</pragmas>
										</Emission>
									</data>
									<pragmas>
										<ed:Action oid="!ed/bf67/549/AB8/54afff523200"/>
									</pragmas>
								</Action>
							</effect>
							<pragmas>
								<ed:Transition oid="!ed/bf66/549/AB8/54afff526682" xmlns="http://www.esterel-technologies.com/ns/scade/pragmas/editor/4">
									<comment>E125 : transition SH refused</comment>
								</ed:Transition>
							</pragmas>
						</Transition>
					</unless>
					<pragmas>
						<ed:State oid="!ed/bf5e/549/AB8/54afff524a6f" xmlns="http://www.esterel-technologies.com/ns/scade/pragmas/editor/4">
							<comment>A045 :  Issue SH request</comment>
						</ed:State>
					</pragmas>
				</State>
				<State name="SH_Authorized_L0_L1_LNTC">
					<data>
						<!--  emit 'Loc_Condition_5; -->
						<Emission>
							<signals>
								<SignalRef name="Loc_Condition_5"/>
							</signals>
							<pragmas>
								<ed:Emission oid="!ed/bf7c/549/AB8/54afffc65742"/>
							</pragmas>
						</Emission>
					</data>
					<pragmas>
						<ed:State oid="!ed/bf69/549/AB8/54afff522ee7" xmlns="http://www.esterel-technologies.com/ns/scade/pragmas/editor/4">
							<comment>A050: Transition to SH</comment>
							<comment>§4.6.3 : Condition 5 : &quot;Train is at standstill AND ERTMS/ETCS level is 0 or NTC or 1 AND driver selects Shunting Mode&quot;</comment>
						</ed:State>
					</pragmas>
				</State>
				<State name="SH_Authorized_L2_L3">
					<data>
						<!--  emit 'Loc_Condition_6; -->
						<Emission>
							<signals>
								<SignalRef name="Loc_Condition_6"/>
							</signals>
							<pragmas>
								<ed:Emission oid="!ed/bf8b/549/AB8/54b0000c7cc3"/>
							</pragmas>
						</Emission>
					</data>
					<pragmas>
						<ed:State oid="!ed/bf6c/549/AB8/54afff521e36" xmlns="http://www.esterel-technologies.com/ns/scade/pragmas/editor/4">
							<comment>A050: Transition to SH</comment>
							<comment>§4.6.3 : Condition 6 : &quot;Train is at standstill AND ERTMS/ETCS level is 2 or 3 AND reception of the information &quot;Shunting granted by RBC&quot;, due to a shunting request from the driver&quot;</comment>
						</ed:State>
					</pragmas>
				</State>
				<State name="SH_Unauthorized_L2_L3">
					<pragmas>
						<ed:State oid="!ed/bf6f/549/AB8/54afff5233d5" xmlns="http://www.esterel-technologies.com/ns/scade/pragmas/editor/4">
							<comment>A220: Transition refused by RBC</comment>
						</ed:State>
					</pragmas>
				</State>
			</states>
			<pragmas>
				<ed:StateMachine oid="!ed/bf50/549/AB8/54afff521267"/>
			</pragmas>
		</StateMachine>
	</data>
	<pragmas>
		<ed:Operator oid="!ed/bd7f/549/AB8/54afff084c10" xmlns="http://www.esterel-technologies.com/ns/scade/pragmas/editor/4">
			<diagrams>
				<NetDiagram name="diagram_SH_Initiated_By_Driver_On_1" landscape="true" format="A4 (210 297)" oid="!ed/bd80/549/AB8/54afff0877ae">
					<presentationElements>
						<EquationGE presentable="!ed/beea/549/AB8/54afff2b301d">
							<position>
								<Point x="38074" y="10134"/>
							</position>
							<size>
								<Size width="317" height="502"/>
							</size>
						</EquationGE>
						<EquationGE kind="OBJ_LIT" presentable="!ed/beeb/549/AB8/54afff2b7bca">
							<position>
								<Point x="33073" y="4789"/>
							</position>
							<size>
								<Size width="212" height="317"/>
							</size>
						</EquationGE>
						<EquationGE kind="OBJ_LIT" presentable="!ed/beef/549/AB8/54afff2b1565">
							<position>
								<Point x="33073" y="5689"/>
							</position>
							<size>
								<Size width="212" height="317"/>
							</size>
						</EquationGE>
						<EquationGE presentable="!ed/bef1/549/AB8/54afff2b5b5d">
							<position>
								<Point x="38074" y="13758"/>
							</position>
							<size>
								<Size width="317" height="502"/>
							</size>
						</EquationGE>
						<EquationGE presentable="!ed/bef2/549/AB8/54afff2baa7">
							<position>
								<Point x="35401" y="11298"/>
							</position>
							<size>
								<Size width="371" height="582"/>
							</size>
						</EquationGE>
						<EquationGE presentable="!ed/bef6/549/AB8/54afff2b562f">
							<position>
								<Point x="38074" y="15002"/>
							</position>
							<size>
								<Size width="317" height="503"/>
							</size>
						</EquationGE>
						<EquationGE presentable="!ed/bef7/549/AB8/54afff2b68f0">
							<position>
								<Point x="34264" y="4471"/>
							</position>
							<size>
								<Size width="1455" height="1853"/>
							</size>
						</EquationGE>
						<EquationGE presentable="!ed/befe/549/AB8/54afff2b4ac1">
							<position>
								<Point x="38074" y="11324"/>
							</position>
							<size>
								<Size width="317" height="503"/>
							</size>
						</EquationGE>
						<EquationGE kind="OBJ_VAR_OUT" presentable="!ed/beff/549/AB8/54afff2b50e1">
							<position>
								<Point x="38391" y="5133"/>
							</position>
							<size>
								<Size width="344" height="503"/>
							</size>
						</EquationGE>
						<EquationGE presentable="!ed/bf00/549/AB8/54afff2b6b5">
							<position>
								<Point x="35454" y="12541"/>
							</position>
							<size>
								<Size width="318" height="503"/>
							</size>
						</EquationGE>
						<EquationGE presentable="!ed/bf04/549/AB8/54afff2b5dfd">
							<position>
								<Point x="35401" y="16298"/>
							</position>
							<size>
								<Size width="371" height="582"/>
							</size>
						</EquationGE>
						<EquationGE kind="OBJ_LIT" presentable="!ed/bf06/549/AB8/54afff2b548e">
							<position>
								<Point x="33073" y="5239"/>
							</position>
							<size>
								<Size width="212" height="317"/>
							</size>
						</EquationGE>
						<EquationGE kind="OBJ_INPUT" presentable="!ed/bf08/549/AB8/54afff2b7a04">
							<position>
								<Point x="33126" y="3545"/>
							</position>
							<size>
								<Size width="264" height="503"/>
							</size>
						</EquationGE>
						<EquationGE presentable="!ed/bf0a/549/AB8/54afff2bef8">
							<position>
								<Point x="35401" y="14975"/>
							</position>
							<size>
								<Size width="371" height="582"/>
							</size>
						</EquationGE>
						<EquationGE presentable="!ed/bf0e/549/AB8/54afff2b5ddf">
							<position>
								<Point x="38074" y="12541"/>
							</position>
							<size>
								<Size width="317" height="503"/>
							</size>
						</EquationGE>
						<EquationGE presentable="!ed/bf11/549/AB8/54afff2b463d">
							<position>
								<Point x="35401" y="10081"/>
							</position>
							<size>
								<Size width="371" height="582"/>
							</size>
						</EquationGE>
						<EquationGE presentable="!ed/bf19/549/AB8/54afff2b3612">
							<position>
								<Point x="35454" y="13758"/>
							</position>
							<size>
								<Size width="318" height="502"/>
							</size>
						</EquationGE>
						<EquationGE presentable="!ed/bf1b/549/AB8/54afff2b7bd2">
							<position>
								<Point x="38074" y="16325"/>
							</position>
							<size>
								<Size width="317" height="503"/>
							</size>
						</EquationGE>
						<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/bf19/549/AB8/54afff2b3612" dstEquation="!ed/bef1/549/AB8/54afff2b5b5d">
							<positions>
								<Point x="35772" y="14023"/>
								<Point x="37042" y="14023"/>
								<Point x="37042" y="14023"/>
								<Point x="38126" y="14023"/>
							</positions>
						</Edge>
						<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/bef2/549/AB8/54afff2baa7" dstEquation="!ed/befe/549/AB8/54afff2b4ac1">
							<positions>
								<Point x="35772" y="11589"/>
								<Point x="37068" y="11589"/>
								<Point x="37068" y="11589"/>
								<Point x="38126" y="11589"/>
							</positions>
						</Edge>
						<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/bef7/549/AB8/54afff2b68f0" dstEquation="!ed/beff/549/AB8/54afff2b50e1">
							<positions>
								<Point x="35719" y="5398"/>
								<Point x="37835" y="5398"/>
								<Point x="37835" y="5398"/>
								<Point x="38391" y="5398"/>
							</positions>
						</Edge>
						<Edge leftVarIndex="1" rightExprIndex="3" srcEquation="!ed/bf06/549/AB8/54afff2b548e" dstEquation="!ed/bef7/549/AB8/54afff2b68f0">
							<positions>
								<Point x="33285" y="5398"/>
								<Point x="33681" y="5398"/>
								<Point x="33681" y="5398"/>
								<Point x="34264" y="5398"/>
							</positions>
						</Edge>
						<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/bf08/549/AB8/54afff2b7a04" dstEquation="!ed/bef7/549/AB8/54afff2b68f0">
							<positions>
								<Point x="33390" y="3810"/>
								<Point x="35004" y="3810"/>
								<Point x="35004" y="4471"/>
							</positions>
						</Edge>
						<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/bf00/549/AB8/54afff2b6b5" dstEquation="!ed/bf0e/549/AB8/54afff2b5ddf">
							<positions>
								<Point x="35772" y="12806"/>
								<Point x="37042" y="12806"/>
								<Point x="37042" y="12806"/>
								<Point x="38126" y="12806"/>
							</positions>
						</Edge>
						<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/bf11/549/AB8/54afff2b463d" dstEquation="!ed/beea/549/AB8/54afff2b301d">
							<positions>
								<Point x="35772" y="10372"/>
								<Point x="37174" y="10372"/>
								<Point x="37174" y="10372"/>
								<Point x="38126" y="10372"/>
							</positions>
						</Edge>
						<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/bf04/549/AB8/54afff2b5dfd" dstEquation="!ed/bf1b/549/AB8/54afff2b7bd2">
							<positions>
								<Point x="35772" y="16589"/>
								<Point x="36936" y="16589"/>
								<Point x="36936" y="16589"/>
								<Point x="38126" y="16589"/>
							</positions>
						</Edge>
						<Edge leftVarIndex="1" rightExprIndex="4" srcEquation="!ed/beef/549/AB8/54afff2b1565" dstEquation="!ed/bef7/549/AB8/54afff2b68f0">
							<positions>
								<Point x="33285" y="5847"/>
								<Point x="33681" y="5847"/>
								<Point x="33681" y="5847"/>
								<Point x="34264" y="5847"/>
							</positions>
						</Edge>
						<Edge leftVarIndex="1" rightExprIndex="2" srcEquation="!ed/beeb/549/AB8/54afff2b7bca" dstEquation="!ed/bef7/549/AB8/54afff2b68f0">
							<positions>
								<Point x="33285" y="4948"/>
								<Point x="33681" y="4948"/>
								<Point x="33681" y="4948"/>
								<Point x="34264" y="4948"/>
							</positions>
						</Edge>
						<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/bf0a/549/AB8/54afff2bef8" dstEquation="!ed/bef6/549/AB8/54afff2b562f">
							<positions>
								<Point x="35772" y="15266"/>
								<Point x="38841" y="15266"/>
								<Point x="38841" y="15266"/>
								<Point x="38126" y="15266"/>
							</positions>
						</Edge>
						<StateMachineGE presentable="!ed/bf50/549/AB8/54afff521267">
							<position>
								<Point x="3387" y="3149"/>
							</position>
							<size>
								<Size width="23627" height="15372"/>
							</size>
						</StateMachineGE>
						<StateGE presentable="!ed/bf51/549/AB8/54afff526952">
							<position>
								<Point x="3995" y="3440"/>
							</position>
							<size>
								<Size width="5318" height="2461"/>
							</size>
						</StateGE>
						<StateGE presentable="!ed/bf5e/549/AB8/54afff524a6f">
							<position>
								<Point x="3916" y="8467"/>
							</position>
							<size>
								<Size width="5106" height="2646"/>
							</size>
						</StateGE>
						<StateGE presentable="!ed/bf69/549/AB8/54afff522ee7">
							<position>
								<Point x="21537" y="3545"/>
							</position>
							<size>
								<Size width="5159" height="2144"/>
							</size>
						</StateGE>
						<StateGE presentable="!ed/bf6c/549/AB8/54afff521e36">
							<position>
								<Point x="19923" y="9604"/>
							</position>
							<size>
								<Size width="6562" height="3149"/>
							</size>
						</StateGE>
						<StateGE presentable="!ed/bf6f/549/AB8/54afff5233d5">
							<position>
								<Point x="8678" y="15214"/>
							</position>
							<size>
								<Size width="5583" height="2725"/>
							</size>
						</StateGE>
						<TransitionGE presentable="!ed/bf57/549/AB8/54afff521bf8">
							<positions>
								<Point x="16457" y="7752"/>
								<Point x="17780" y="9604"/>
								<Point x="19473" y="7197"/>
								<Point x="23601" y="5689"/>
							</positions>
							<labelSize>
								<Size width="4366" height="318"/>
							</labelSize>
							<labelPos>
								<Point x="20294" y="7381"/>
							</labelPos>
							<slashPos>
								<Point x="23865" y="7381"/>
							</slashPos>
						</TransitionGE>
						<TransitionGE presentable="!ed/bf54/549/AB8/54afff525e24">
							<positions>
								<Point x="16457" y="7752"/>
								<Point x="16801" y="7885"/>
								<Point x="17965" y="6562"/>
								<Point x="21537" y="5609"/>
							</positions>
							<labelSize>
								<Size width="5980" height="635"/>
							</labelSize>
							<labelPos>
								<Point x="15346" y="6110"/>
							</labelPos>
							<slashPos>
								<Point x="18256" y="6111"/>
							</slashPos>
						</TransitionGE>
						<TransitionGE presentable="!ed/bf5a/549/AB8/54afff521ca1">
							<positions>
								<Point x="11086" y="5953"/>
								<Point x="10372" y="6403"/>
								<Point x="9763" y="8625"/>
								<Point x="9022" y="9102"/>
							</positions>
							<labelSize>
								<Size width="5821" height="953"/>
							</labelSize>
							<labelPos>
								<Point x="5238" y="6798"/>
							</labelPos>
							<slashPos>
								<Point x="7408" y="6799"/>
							</slashPos>
						</TransitionGE>
						<TransitionGE presentable="!ed/bf53/549/AB8/54afff522fe2">
							<positions>
								<Point x="11086" y="5953"/>
								<Point x="11536" y="5953"/>
								<Point x="15240" y="7355"/>
								<Point x="16457" y="7752"/>
							</positions>
							<labelSize>
								<Size width="5821" height="953"/>
							</labelSize>
							<labelPos>
								<Point x="12065" y="5344"/>
							</labelPos>
							<slashPos>
								<Point x="14155" y="5344"/>
							</slashPos>
						</TransitionGE>
						<TransitionGE presentable="!ed/bf52/549/AB8/54afff522118">
							<positions>
								<Point x="9313" y="4948"/>
								<Point x="9922" y="4948"/>
								<Point x="10478" y="5953"/>
								<Point x="11086" y="5953"/>
							</positions>
							<labelSize>
								<Size width="3175" height="635"/>
							</labelSize>
							<labelPos>
								<Point x="9631" y="4258"/>
							</labelPos>
							<slashPos>
								<Point x="11773" y="4259"/>
							</slashPos>
						</TransitionGE>
						<TransitionGE presentable="!ed/bf63/549/AB8/54afff52340b">
							<positions>
								<Point x="15240" y="11668"/>
								<Point x="15743" y="13785"/>
								<Point x="18071" y="13018"/>
								<Point x="19923" y="12515"/>
							</positions>
							<labelSize>
								<Size width="6747" height="635"/>
							</labelSize>
							<labelPos>
								<Point x="15345" y="13890"/>
							</labelPos>
							<slashPos>
								<Point x="18467" y="13890"/>
							</slashPos>
						</TransitionGE>
						<TransitionGE presentable="!ed/bf60/549/AB8/54afff52aa1">
							<positions>
								<Point x="15240" y="11668"/>
								<Point x="17357" y="11986"/>
								<Point x="19420" y="10689"/>
								<Point x="19923" y="10874"/>
							</positions>
							<labelSize>
								<Size width="5477" height="318"/>
							</labelSize>
							<labelPos>
								<Point x="14050" y="10530"/>
							</labelPos>
							<slashPos>
								<Point x="16642" y="10530"/>
							</slashPos>
						</TransitionGE>
						<TransitionGE presentable="!ed/bf5f/549/AB8/54afff524dea">
							<positions>
								<Point x="9022" y="10716"/>
								<Point x="9631" y="10927"/>
								<Point x="12568" y="11298"/>
								<Point x="15240" y="11668"/>
							</positions>
							<labelSize>
								<Size width="7752" height="7620"/>
							</labelSize>
							<labelPos>
								<Point x="9181" y="9788"/>
							</labelPos>
							<slashPos>
								<Point x="12408" y="9789"/>
							</slashPos>
						</TransitionGE>
						<TransitionGE presentable="!ed/bf66/549/AB8/54afff526682">
							<positions>
								<Point x="7408" y="11113"/>
								<Point x="6006" y="12435"/>
								<Point x="5927" y="17251"/>
								<Point x="8678" y="16960"/>
							</positions>
							<labelSize>
								<Size width="8202" height="318"/>
							</labelSize>
							<labelPos>
								<Point x="4179" y="12169"/>
							</labelPos>
							<slashPos>
								<Point x="8202" y="12170"/>
							</slashPos>
						</TransitionGE>
						<EquationGE presentable="!ed/bf7c/549/AB8/54afffc65742">
							<position>
								<Point x="22701" y="4948"/>
							</position>
							<size>
								<Size width="318" height="502"/>
							</size>
						</EquationGE>
						<EquationGE presentable="!ed/bf8b/549/AB8/54b0000c7cc3">
							<position>
								<Point x="21246" y="11377"/>
							</position>
							<size>
								<Size width="317" height="503"/>
							</size>
						</EquationGE>
					</presentationElements>
				</NetDiagram>
			</diagrams>
		</ed:Operator>
	</pragmas>
</Operator>
