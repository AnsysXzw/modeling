%set the master document for easy compilation
%!TEX root = ../D3_5_3.tex

%\section{ETCS Messaging: TrackMessages}

\subsubsection{Component Requirements}

\begin{longtable}{p{.25\textwidth}p{.7\textwidth}}
\toprule
Component name			& TM\_lib\_internal::RECV\_ReadPackets \\
\midrule
Link to SCADE model		& {\footnotesize \url{https://github.com/openETCS/modeling/tree/master/model/Scade/System/ObuFunctions/ETCS_Messaging/TrackMessages}} \\
\midrule
SCADE designer			& Jakob G\"artner, LEA Railergy\\
\midrule
Description				& RECV\_ReadPackets extracts packet data information and raw compressed packet data from the compressed packets data flow, using filter criteria provided through parameter inputs:\newline
\begin{itemize}
\item NID\_PACKET: search for a specific packet
\item Version Number: search for a specific version number
\item Q\_DIR: search for packets that are only valid for a specific direction
\item Serial number: search for a specific packet instance, if several instances of a given packet type exist
\item F\_Version: Flag to decide whether to evaluate or ignore packet version information.
\item F\_id: Flag whether to evaluate or ignore packet serial number information.\newline
\end{itemize}

The operator TM\_lib\_internal::RECV\_ReadPackets takes a set of parameter data to 

\begin{itemize}
\item 1. Search the metadata of the compressed packets data flow using the provided parameters to determine if a matching packet is contained in any given cycle
\item 2. Output the flag "received" exactly in any cycle a matching packet is found
\item 3. Output an array of compressed packet data that is filled with the data from the identified packet
\end{itemize}


\\

\midrule
Input documents	& 
Subset-026, Chapter 7\newline
\newline
This function is not directly traceable to Subset-026, but is built from derived requirements\\
\midrule
Safety integrity level		& 4 \\
\midrule
Time constraints		& n/a  \\
\midrule
API requirements 		& In the demonstrator context, the API is fully defined on SCADE model level. For integration with external systems (BTM, Radio, Subset-076 or Subset-94), additional conversion to/ from bit-level representation will be required\\
\bottomrule
\end{longtable}
%-------------------------------------------------------------------------------------------------------------------------
%-------------------------------------------------------------------------------------------------------------------------
%-------------------------------------------------------------------------------------------------------------------------

