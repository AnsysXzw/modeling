<?xml version="1.0" encoding="UTF-8"?>
<Operator xmlns="http://www.esterel-technologies.com/ns/scade/4" xmlns:ed="http://www.esterel-technologies.com/ns/scade/pragmas/editor/4" xmlns:kcg="http://www.esterel-technologies.com/ns/scade/pragmas/codegen/2" kind="node" name="DriverAck">
	<inputs>
		<Variable name="getAck">
			<type>
				<NamedType>
					<type>
						<TypeRef name="bool"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/18486/2CA1/350/54c6786c763c"/>
			</pragmas>
		</Variable>
		<Variable name="resetIdle">
			<type>
				<NamedType>
					<type>
						<TypeRef name="bool"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/18487/2CA1/350/54c6786c23d9"/>
			</pragmas>
		</Variable>
		<Variable name="newLevel">
			<type>
				<NamedType>
					<type>
						<TypeRef name="M_LEVEL"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/18488/2CA1/350/54c6786c1de4"/>
			</pragmas>
		</Variable>
		<Variable name="oldLevel">
			<type>
				<NamedType>
					<type>
						<TypeRef name="M_LEVEL"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/18489/2CA1/350/54c6786c5908"/>
			</pragmas>
		</Variable>
		<Variable name="currentDistance">
			<type>
				<NamedType>
					<type>
						<TypeRef name="int"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/1848a/2CA1/350/54c6786c55ff"/>
			</pragmas>
		</Variable>
		<Variable name="ackDistance">
			<type>
				<NamedType>
					<type>
						<TypeRef name="int"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/1848b/2CA1/350/54c6786c1565"/>
			</pragmas>
		</Variable>
		<Variable name="immediateAck">
			<type>
				<NamedType>
					<type>
						<TypeRef name="bool"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/1848c/2CA1/350/54c6786c3000"/>
			</pragmas>
		</Variable>
	</inputs>
	<outputs>
		<Variable name="TripTrain">
			<type>
				<NamedType>
					<type>
						<TypeRef name="bool"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/18485/2CA1/350/54c6786c53d"/>
			</pragmas>
		</Variable>
		<Variable name="needsAckFromDriver">
			<type>
				<NamedType>
					<type>
						<TypeRef name="bool"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/13ff3/4822/610/54e313dc1629"/>
			</pragmas>
		</Variable>
	</outputs>
	<signals>
		<Signal name="needsAck">
			<pragmas>
				<ed:Signal oid="!ed/18479/2CA1/350/54c6786cd6"/>
			</pragmas>
		</Signal>
		<Signal name="tripTrain">
			<pragmas>
				<ed:Signal oid="!ed/1847a/2CA1/350/54c6786c5316"/>
			</pragmas>
		</Signal>
		<Signal name="passAckDistance">
			<pragmas>
				<ed:Signal oid="!ed/1847b/2CA1/350/54c6786c6fa1"/>
			</pragmas>
		</Signal>
	</signals>
	<locals>
		<Variable name="acknowledgeDistance">
			<type>
				<NamedType>
					<type>
						<TypeRef name="int"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/13fab/5C5/838/54d9f2ab43ae"/>
			</pragmas>
		</Variable>
		<Variable name="waitingForAck">
			<type>
				<NamedType>
					<type>
						<TypeRef name="bool"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/140c5/5C5/838/54d9fedd68e4"/>
			</pragmas>
		</Variable>
		<Variable name="distanceMemory">
			<type>
				<NamedType>
					<type>
						<TypeRef name="bool"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/141b8/5C5/838/54da0243314b"/>
			</pragmas>
		</Variable>
		<Variable name="_L6">
			<type>
				<NamedType>
					<type>
						<TypeRef name="M_LEVEL"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/1847c/2CA1/350/54c6786c1fca"/>
			</pragmas>
		</Variable>
		<Variable name="_L7">
			<type>
				<NamedType>
					<type>
						<TypeRef name="M_LEVEL"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/1847d/2CA1/350/54c6786c7ede"/>
			</pragmas>
		</Variable>
		<Variable name="_L8">
			<type>
				<NamedType>
					<type>
						<TypeRef name="bool"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/1847e/2CA1/350/54c6786c502a"/>
			</pragmas>
		</Variable>
		<Variable name="_L9">
			<type>
				<NamedType>
					<type>
						<TypeRef name="bool"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/1847f/2CA1/350/54c6786c1920"/>
			</pragmas>
		</Variable>
		<Variable name="_L10">
			<type>
				<NamedType>
					<type>
						<TypeRef name="int"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/18480/2CA1/350/54c6786c2e5e"/>
			</pragmas>
		</Variable>
		<Variable name="_L13">
			<type>
				<NamedType>
					<type>
						<TypeRef name="bool"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/18483/2CA1/350/54c6786c6c98"/>
			</pragmas>
		</Variable>
		<Variable name="_L15">
			<type>
				<NamedType>
					<type>
						<TypeRef name="bool"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/18484/2CA1/350/54c6786c795e"/>
			</pragmas>
		</Variable>
		<Variable name="_L16">
			<type>
				<NamedType>
					<type>
						<TypeRef name="int"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/13fad/5C5/838/54d9f2b37a78"/>
			</pragmas>
		</Variable>
		<Variable name="_L18">
			<type>
				<NamedType>
					<type>
						<TypeRef name="bool"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/13fd5/5C5/838/54d9f81a1b86"/>
			</pragmas>
		</Variable>
		<Variable name="_L32">
			<type>
				<NamedType>
					<type>
						<TypeRef name="bool"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/14187/5C5/838/54da020f7361"/>
			</pragmas>
		</Variable>
		<Variable name="_L33">
			<type>
				<NamedType>
					<type>
						<TypeRef name="bool"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/1419d/5C5/838/54da021d1f88"/>
			</pragmas>
		</Variable>
		<Variable name="_L34">
			<type>
				<NamedType>
					<type>
						<TypeRef name="bool"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/141ab/5C5/838/54da022453cb"/>
			</pragmas>
		</Variable>
		<Variable name="_L36">
			<type>
				<NamedType>
					<type>
						<TypeRef name="bool"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/141c1/5C5/838/54da025c67d0"/>
			</pragmas>
		</Variable>
		<Variable name="_L37">
			<type>
				<NamedType>
					<type>
						<TypeRef name="bool"/>
					</type>
				</NamedType>
			</type>
			<pragmas>
				<ed:Variable oid="!ed/13fff/4822/610/54e313f53ff9"/>
			</pragmas>
		</Variable>
	</locals>
	<data>
		<StateMachine name="DriverAck">
			<states>
				<State initial="true" name="Idle">
					<unless>
						<Transition kind="restart">
							<target>
								<StateRef name="Waiting"/>
							</target>
							<condition>
								<Present>
									<signal>
										<SignalRef name="needsAck"/>
									</signal>
								</Present>
							</condition>
							<pragmas>
								<ed:Transition oid="!ed/18465/2CA1/350/54c6786c6fcb"/>
							</pragmas>
						</Transition>
					</unless>
					<locals>
						<Variable name="_L2">
							<type>
								<NamedType>
									<type>
										<TypeRef name="bool"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/140fd/5C5/838/54d9ff0d2338"/>
							</pragmas>
						</Variable>
					</locals>
					<data>
						<!-- waitingForAck = _L2; -->
						<Equation>
							<lefts>
								<VariableRef name="waitingForAck"/>
							</lefts>
							<right>
								<IdExpression>
									<path>
										<ConstVarRef name="_L2"/>
									</path>
								</IdExpression>
							</right>
							<pragmas>
								<ed:Equation oid="!ed/140e2/5C5/838/54d9fefa75e3"/>
							</pragmas>
						</Equation>
						<!-- _L2 = false; -->
						<Equation>
							<lefts>
								<VariableRef name="_L2"/>
							</lefts>
							<right>
								<ConstValue value="false"/>
							</right>
							<pragmas>
								<ed:Equation oid="!ed/140fc/5C5/838/54d9ff0d1338"/>
							</pragmas>
						</Equation>
					</data>
					<pragmas>
						<ed:State oid="!ed/18464/2CA1/350/54c6786c3893"/>
					</pragmas>
				</State>
				<State name="Waiting">
					<unless>
						<Transition kind="restart">
							<target>
								<StateRef name="Idle"/>
							</target>
							<condition>
								<IdExpression>
									<path>
										<ConstVarRef name="getAck"/>
									</path>
								</IdExpression>
							</condition>
							<pragmas>
								<ed:Transition oid="!ed/18467/2CA1/350/54c6786c700a"/>
							</pragmas>
						</Transition>
						<Transition kind="restart">
							<target>
								<StateRef name="Idle"/>
							</target>
							<condition>
								<Present>
									<signal>
										<SignalRef name="passAckDistance"/>
									</signal>
								</Present>
							</condition>
							<effect>
								<Action>
									<data>
										<!--  emit 'tripTrain; -->
										<Emission>
											<signals>
												<SignalRef name="tripTrain"/>
											</signals>
											<pragmas>
												<ed:Emission oid="!ed/1846a/2CA1/350/54c6786c6b4a"/>
											</pragmas>
										</Emission>
									</data>
									<pragmas>
										<ed:Action oid="!ed/18469/2CA1/350/54c6786c3589"/>
									</pragmas>
								</Action>
							</effect>
							<pragmas>
								<ed:Transition oid="!ed/18468/2CA1/350/54c6786c4e86"/>
							</pragmas>
						</Transition>
						<Transition kind="restart">
							<target>
								<StateRef name="Idle"/>
							</target>
							<condition>
								<IdExpression>
									<path>
										<ConstVarRef name="resetIdle"/>
									</path>
								</IdExpression>
							</condition>
							<pragmas>
								<ed:Transition oid="!ed/1846b/2CA1/350/54c6786c7315"/>
							</pragmas>
						</Transition>
					</unless>
					<locals>
						<Variable name="_L5">
							<type>
								<NamedType>
									<type>
										<TypeRef name="bool"/>
									</type>
								</NamedType>
							</type>
							<pragmas>
								<ed:Variable oid="!ed/14114/5C5/838/54d9ff161c7d"/>
							</pragmas>
						</Variable>
					</locals>
					<data>
						<!-- waitingForAck = _L5; -->
						<Equation>
							<lefts>
								<VariableRef name="waitingForAck"/>
							</lefts>
							<right>
								<IdExpression>
									<path>
										<ConstVarRef name="_L5"/>
									</path>
								</IdExpression>
							</right>
							<pragmas>
								<ed:Equation oid="!ed/140f2/5C5/838/54d9ff0b5388"/>
							</pragmas>
						</Equation>
						<!-- _L5 = true; -->
						<Equation>
							<lefts>
								<VariableRef name="_L5"/>
							</lefts>
							<right>
								<ConstValue value="true"/>
							</right>
							<pragmas>
								<ed:Equation oid="!ed/14113/5C5/838/54d9ff164fd4"/>
							</pragmas>
						</Equation>
					</data>
					<pragmas>
						<ed:State oid="!ed/18466/2CA1/350/54c6786c5409"/>
					</pragmas>
				</State>
			</states>
			<pragmas>
				<ed:StateMachine oid="!ed/18463/2CA1/350/54c6786c310f"/>
			</pragmas>
		</StateMachine>
		<!-- TripTrain = _L9; -->
		<Equation>
			<lefts>
				<VariableRef name="TripTrain"/>
			</lefts>
			<right>
				<IdExpression>
					<path>
						<ConstVarRef name="_L9"/>
					</path>
				</IdExpression>
			</right>
			<pragmas>
				<ed:Equation oid="!ed/1846c/2CA1/350/54c6786c643c"/>
			</pragmas>
		</Equation>
		<!-- _L6 = newLevel; -->
		<Equation>
			<lefts>
				<VariableRef name="_L6"/>
			</lefts>
			<right>
				<IdExpression>
					<path>
						<ConstVarRef name="newLevel"/>
					</path>
				</IdExpression>
			</right>
			<pragmas>
				<ed:Equation oid="!ed/1846d/2CA1/350/54c6786c2c1e"/>
			</pragmas>
		</Equation>
		<!-- _L7 = oldLevel; -->
		<Equation>
			<lefts>
				<VariableRef name="_L7"/>
			</lefts>
			<right>
				<IdExpression>
					<path>
						<ConstVarRef name="oldLevel"/>
					</path>
				</IdExpression>
			</right>
			<pragmas>
				<ed:Equation oid="!ed/1846e/2CA1/350/54c6786c23a5"/>
			</pragmas>
		</Equation>
		<!-- _L8 = decideDriverAck(_L6, _L7); -->
		<Equation>
			<lefts>
				<VariableRef name="_L8"/>
			</lefts>
			<right>
				<!-- decideDriverAck(_L6, _L7) -->
				<CallExpression>
					<operator>
						<OpCall name="1">
							<operator>
								<OperatorRef name="decideDriverAck"/>
							</operator>
						</OpCall>
					</operator>
					<callParameters>
						<IdExpression>
							<path>
								<ConstVarRef name="_L6"/>
							</path>
						</IdExpression>
						<IdExpression>
							<path>
								<ConstVarRef name="_L7"/>
							</path>
						</IdExpression>
					</callParameters>
				</CallExpression>
			</right>
			<pragmas>
				<ed:Equation oid="!ed/1846f/2CA1/350/54c6786c2bfb"/>
			</pragmas>
		</Equation>
		<!--  emit 'needsAck if _L8; -->
		<Emission>
			<signals>
				<SignalRef name="needsAck"/>
			</signals>
			<condition>
				<IdExpression>
					<path>
						<ConstVarRef name="_L8"/>
					</path>
				</IdExpression>
			</condition>
			<pragmas>
				<ed:Emission oid="!ed/18470/2CA1/350/54c6786c70e9"/>
			</pragmas>
		</Emission>
		<!-- _L9 =  'tripTrain; -->
		<Equation>
			<lefts>
				<VariableRef name="_L9"/>
			</lefts>
			<right>
				<Present>
					<signal>
						<SignalRef name="tripTrain"/>
					</signal>
				</Present>
			</right>
			<pragmas>
				<ed:Equation oid="!ed/18471/2CA1/350/54c6786c4842"/>
			</pragmas>
		</Equation>
		<!-- _L10 = currentDistance; -->
		<Equation>
			<lefts>
				<VariableRef name="_L10"/>
			</lefts>
			<right>
				<IdExpression>
					<path>
						<ConstVarRef name="currentDistance"/>
					</path>
				</IdExpression>
			</right>
			<pragmas>
				<ed:Equation oid="!ed/18472/2CA1/350/54c6786c4fff"/>
			</pragmas>
		</Equation>
		<!--  emit 'passAckDistance if _L15; -->
		<Emission>
			<signals>
				<SignalRef name="passAckDistance"/>
			</signals>
			<condition>
				<IdExpression>
					<path>
						<ConstVarRef name="_L15"/>
					</path>
				</IdExpression>
			</condition>
			<pragmas>
				<ed:Emission oid="!ed/18475/2CA1/350/54c6786c45bf"/>
			</pragmas>
		</Emission>
		<!-- _L13 = immediateAck; -->
		<Equation>
			<lefts>
				<VariableRef name="_L13"/>
			</lefts>
			<right>
				<IdExpression>
					<path>
						<ConstVarRef name="immediateAck"/>
					</path>
				</IdExpression>
			</right>
			<pragmas>
				<ed:Equation oid="!ed/18476/2CA1/350/54c6786c430a"/>
			</pragmas>
		</Equation>
		<!-- _L15 = _L13 or _L18; -->
		<Equation>
			<lefts>
				<VariableRef name="_L15"/>
			</lefts>
			<right>
				<!-- _L13 or _L18 -->
				<NAryOp name="2" operator="or">
					<operands>
						<IdExpression>
							<path>
								<ConstVarRef name="_L13"/>
							</path>
						</IdExpression>
						<IdExpression>
							<path>
								<ConstVarRef name="_L18"/>
							</path>
						</IdExpression>
					</operands>
				</NAryOp>
			</right>
			<pragmas>
				<ed:Equation oid="!ed/18477/2CA1/350/54c6786c1175"/>
			</pragmas>
		</Equation>
		<!-- _L16 = acknowledgeDistance; -->
		<Equation>
			<lefts>
				<VariableRef name="_L16"/>
			</lefts>
			<right>
				<IdExpression>
					<path>
						<ConstVarRef name="acknowledgeDistance"/>
					</path>
				</IdExpression>
			</right>
			<pragmas>
				<ed:Equation oid="!ed/13fac/5C5/838/54d9f2b31b88"/>
			</pragmas>
		</Equation>
		<!-- _L18 = _L10 > _L16; -->
		<Equation>
			<lefts>
				<VariableRef name="_L18"/>
			</lefts>
			<right>
				<!-- _L10 > _L16 -->
				<BinaryOp name="2" operator="&gt;">
					<operands>
						<IdExpression>
							<path>
								<ConstVarRef name="_L10"/>
							</path>
						</IdExpression>
						<IdExpression>
							<path>
								<ConstVarRef name="_L16"/>
							</path>
						</IdExpression>
					</operands>
				</BinaryOp>
			</right>
			<pragmas>
				<ed:Equation oid="!ed/13fd4/5C5/838/54d9f81a133a"/>
			</pragmas>
		</Equation>
		<IfBlock name="getAckDistance">
			<block>
				<IfNode>
					<if>
						<IdExpression>
							<path>
								<ConstVarRef name="distanceMemory"/>
							</path>
						</IdExpression>
					</if>
					<then>
						<Action>
							<locals>
								<Variable name="_L1">
									<type>
										<NamedType>
											<type>
												<TypeRef name="int"/>
											</type>
										</NamedType>
									</type>
									<pragmas>
										<ed:Variable oid="!ed/1414c/5C5/838/54da004c6dd3"/>
									</pragmas>
								</Variable>
							</locals>
							<data>
								<!-- _L1 = currentDistance; -->
								<Equation>
									<lefts>
										<VariableRef name="_L1"/>
									</lefts>
									<right>
										<IdExpression>
											<path>
												<ConstVarRef name="currentDistance"/>
											</path>
										</IdExpression>
									</right>
									<pragmas>
										<ed:Equation oid="!ed/1414b/5C5/838/54da004c1745"/>
									</pragmas>
								</Equation>
								<!-- acknowledgeDistance = _L1; -->
								<Equation>
									<lefts>
										<VariableRef name="acknowledgeDistance"/>
									</lefts>
									<right>
										<IdExpression>
											<path>
												<ConstVarRef name="_L1"/>
											</path>
										</IdExpression>
									</right>
									<pragmas>
										<ed:Equation oid="!ed/1414d/5C5/838/54da004c8ca"/>
									</pragmas>
								</Equation>
							</data>
							<pragmas>
								<ed:Action oid="!ed/1412c/5C5/838/54d9ffea4951"/>
							</pragmas>
						</Action>
					</then>
					<else>
						<Action>
							<locals>
								<Variable name="_L4">
									<type>
										<NamedType>
											<type>
												<TypeRef name="int"/>
											</type>
										</NamedType>
									</type>
									<pragmas>
										<ed:Variable oid="!ed/14142/5C5/838/54da000e6e5e"/>
									</pragmas>
								</Variable>
								<Variable name="_L2">
									<type>
										<NamedType>
											<type>
												<TypeRef name="int"/>
											</type>
										</NamedType>
									</type>
									<pragmas>
										<ed:Variable oid="!ed/1413e/5C5/838/54da000e1456"/>
									</pragmas>
								</Variable>
								<Variable name="_L1">
									<type>
										<NamedType>
											<type>
												<TypeRef name="int"/>
											</type>
										</NamedType>
									</type>
									<pragmas>
										<ed:Variable oid="!ed/1413c/5C5/838/54da000e286d"/>
									</pragmas>
								</Variable>
								<Variable name="_L5">
									<type>
										<NamedType>
											<type>
												<TypeRef name="int"/>
											</type>
										</NamedType>
									</type>
									<pragmas>
										<ed:Variable oid="!ed/141d3/5C5/838/54da03573c24"/>
									</pragmas>
								</Variable>
							</locals>
							<data>
								<!-- acknowledgeDistance = _L2; -->
								<Equation>
									<lefts>
										<VariableRef name="acknowledgeDistance"/>
									</lefts>
									<right>
										<IdExpression>
											<path>
												<ConstVarRef name="_L2"/>
											</path>
										</IdExpression>
									</right>
									<pragmas>
										<ed:Equation oid="!ed/1413a/5C5/838/54da000eece"/>
									</pragmas>
								</Equation>
								<!-- _L1 = currentDistance; -->
								<Equation>
									<lefts>
										<VariableRef name="_L1"/>
									</lefts>
									<right>
										<IdExpression>
											<path>
												<ConstVarRef name="currentDistance"/>
											</path>
										</IdExpression>
									</right>
									<pragmas>
										<ed:Equation oid="!ed/1413b/5C5/838/54da000e5dd"/>
									</pragmas>
								</Equation>
								<!-- _L2 = (_L4) -> (_L5); -->
								<Equation>
									<lefts>
										<VariableRef name="_L2"/>
									</lefts>
									<right>
										<!-- (_L4) -> (_L5) -->
										<InitOp name="4">
											<value>
												<ListExpression>
													<items>
														<IdExpression>
															<path>
																<ConstVarRef name="_L4"/>
															</path>
														</IdExpression>
													</items>
												</ListExpression>
											</value>
											<flow>
												<ListExpression>
													<items>
														<IdExpression>
															<path>
																<ConstVarRef name="_L5"/>
															</path>
														</IdExpression>
													</items>
												</ListExpression>
											</flow>
										</InitOp>
									</right>
									<pragmas>
										<ed:Equation oid="!ed/1413d/5C5/838/54da000ec77"/>
									</pragmas>
								</Equation>
								<!-- _L4 = ackDistance; -->
								<Equation>
									<lefts>
										<VariableRef name="_L4"/>
									</lefts>
									<right>
										<IdExpression>
											<path>
												<ConstVarRef name="ackDistance"/>
											</path>
										</IdExpression>
									</right>
									<pragmas>
										<ed:Equation oid="!ed/14141/5C5/838/54da000e4842"/>
									</pragmas>
								</Equation>
								<!-- _L5 = pre _L1; -->
								<Equation>
									<lefts>
										<VariableRef name="_L5"/>
									</lefts>
									<right>
										<!-- pre _L1 -->
										<PreOp name="7">
											<flow>
												<ListExpression>
													<items>
														<IdExpression>
															<path>
																<ConstVarRef name="_L1"/>
															</path>
														</IdExpression>
													</items>
												</ListExpression>
											</flow>
										</PreOp>
									</right>
									<pragmas>
										<ed:Equation oid="!ed/141d2/5C5/838/54da03571b5e"/>
									</pragmas>
								</Equation>
							</data>
							<pragmas>
								<ed:Action oid="!ed/1412d/5C5/838/54d9ffea4d40"/>
							</pragmas>
						</Action>
					</else>
					<pragmas>
						<ed:IfNode oid="!ed/1412b/5C5/838/54d9ffea4e44"/>
					</pragmas>
				</IfNode>
			</block>
			<pragmas>
				<ed:IfBlock oid="!ed/14126/5C5/838/54d9ffe73fe1"/>
			</pragmas>
		</IfBlock>
		<!-- _L32 = true; -->
		<Equation>
			<lefts>
				<VariableRef name="_L32"/>
			</lefts>
			<right>
				<ConstValue value="true"/>
			</right>
			<pragmas>
				<ed:Equation oid="!ed/14186/5C5/838/54da020f306f"/>
			</pragmas>
		</Equation>
		<!-- _L33 = (_L32) -> (_L34); -->
		<Equation>
			<lefts>
				<VariableRef name="_L33"/>
			</lefts>
			<right>
				<!-- (_L32) -> (_L34) -->
				<InitOp name="5">
					<value>
						<ListExpression>
							<items>
								<IdExpression>
									<path>
										<ConstVarRef name="_L32"/>
									</path>
								</IdExpression>
							</items>
						</ListExpression>
					</value>
					<flow>
						<ListExpression>
							<items>
								<IdExpression>
									<path>
										<ConstVarRef name="_L34"/>
									</path>
								</IdExpression>
							</items>
						</ListExpression>
					</flow>
				</InitOp>
			</right>
			<pragmas>
				<ed:Equation oid="!ed/1419c/5C5/838/54da021d4990"/>
			</pragmas>
		</Equation>
		<!-- _L34 = pre _L36; -->
		<Equation>
			<lefts>
				<VariableRef name="_L34"/>
			</lefts>
			<right>
				<!-- pre _L36 -->
				<PreOp name="5">
					<flow>
						<ListExpression>
							<items>
								<IdExpression>
									<path>
										<ConstVarRef name="_L36"/>
									</path>
								</IdExpression>
							</items>
						</ListExpression>
					</flow>
				</PreOp>
			</right>
			<pragmas>
				<ed:Equation oid="!ed/141aa/5C5/838/54da022476d7"/>
			</pragmas>
		</Equation>
		<!-- distanceMemory = _L33; -->
		<Equation>
			<lefts>
				<VariableRef name="distanceMemory"/>
			</lefts>
			<right>
				<IdExpression>
					<path>
						<ConstVarRef name="_L33"/>
					</path>
				</IdExpression>
			</right>
			<pragmas>
				<ed:Equation oid="!ed/141b9/5C5/838/54da024b5d34"/>
			</pragmas>
		</Equation>
		<!-- _L36 = waitingForAck; -->
		<Equation>
			<lefts>
				<VariableRef name="_L36"/>
			</lefts>
			<right>
				<IdExpression>
					<path>
						<ConstVarRef name="waitingForAck"/>
					</path>
				</IdExpression>
			</right>
			<pragmas>
				<ed:Equation oid="!ed/141c0/5C5/838/54da025c1db8"/>
			</pragmas>
		</Equation>
		<!-- needsAckFromDriver = _L37; -->
		<Equation>
			<lefts>
				<VariableRef name="needsAckFromDriver"/>
			</lefts>
			<right>
				<IdExpression>
					<path>
						<ConstVarRef name="_L37"/>
					</path>
				</IdExpression>
			</right>
			<pragmas>
				<ed:Equation oid="!ed/13ff5/4822/610/54e313e64fe"/>
			</pragmas>
		</Equation>
		<!-- _L37 = waitingForAck; -->
		<Equation>
			<lefts>
				<VariableRef name="_L37"/>
			</lefts>
			<right>
				<IdExpression>
					<path>
						<ConstVarRef name="waitingForAck"/>
					</path>
				</IdExpression>
			</right>
			<pragmas>
				<ed:Equation oid="!ed/13ffe/4822/610/54e313f57c6d"/>
			</pragmas>
		</Equation>
	</data>
	<pragmas>
		<ed:Operator oid="!ed/18462/2CA1/350/54c6786c536" xmlns="http://www.esterel-technologies.com/ns/scade/pragmas/editor/4">
			<diagrams>
				<NetDiagram name="diagram_DriverAck_1" landscape="true" format="A4 (210 297)" oid="!ed/18478/2CA1/350/54c6786c5c04">
					<presentationElements>
						<StateMachineGE presentable="!ed/18463/2CA1/350/54c6786c310f">
							<position>
								<Point x="15796" y="3254"/>
							</position>
							<size>
								<Size width="11880" height="13574"/>
							</size>
						</StateMachineGE>
						<StateGE presentable="!ed/18464/2CA1/350/54c6786c3893">
							<position>
								<Point x="18706" y="4577"/>
							</position>
							<size>
								<Size width="4789" height="2408"/>
							</size>
						</StateGE>
						<StateGE presentable="!ed/18466/2CA1/350/54c6786c5409">
							<position>
								<Point x="18759" y="13494"/>
							</position>
							<size>
								<Size width="4974" height="2090"/>
							</size>
						</StateGE>
						<TransitionGE presentable="!ed/18465/2CA1/350/54c6786c6fcb">
							<positions>
								<Point x="18706" y="5609"/>
								<Point x="15796" y="7011"/>
								<Point x="16563" y="13494"/>
								<Point x="18759" y="14579"/>
							</positions>
							<labelSize>
								<Size width="2858" height="318"/>
							</labelSize>
							<labelPos>
								<Point x="15901" y="6403"/>
							</labelPos>
							<slashPos>
								<Point x="17965" y="6403"/>
							</slashPos>
						</TransitionGE>
						<TransitionGE presentable="!ed/18467/2CA1/350/54c6786c700a">
							<positions>
								<Point x="21034" y="13494"/>
								<Point x="19817" y="12118"/>
								<Point x="19870" y="8520"/>
								<Point x="21034" y="6985"/>
							</positions>
							<labelSize>
								<Size width="1931" height="635"/>
							</labelSize>
							<labelPos>
								<Point x="17676" y="11059"/>
							</labelPos>
							<slashPos>
								<Point x="18812" y="11060"/>
							</slashPos>
						</TransitionGE>
						<TransitionGE presentable="!ed/18468/2CA1/350/54c6786c4e86">
							<positions>
								<Point x="23733" y="15055"/>
								<Point x="26300" y="11959"/>
								<Point x="26247" y="8440"/>
								<Point x="23495" y="5212"/>
							</positions>
							<labelSize>
								<Size width="5106" height="635"/>
							</labelSize>
							<labelPos>
								<Point x="24025" y="6059"/>
							</labelPos>
							<slashPos>
								<Point x="26167" y="6059"/>
							</slashPos>
						</TransitionGE>
						<EquationGE presentable="!ed/1846c/2CA1/350/54c6786c643c">
							<position>
								<Point x="17939" y="20479"/>
							</position>
							<size>
								<Size width="318" height="502"/>
							</size>
						</EquationGE>
						<TransitionGE presentable="!ed/1846b/2CA1/350/54c6786c7315">
							<positions>
								<Point x="22410" y="13494"/>
								<Point x="23680" y="12250"/>
								<Point x="23336" y="8573"/>
								<Point x="22172" y="6985"/>
							</positions>
							<labelSize>
								<Size width="1905" height="635"/>
							</labelSize>
							<labelPos>
								<Point x="23813" y="9472"/>
							</labelPos>
							<slashPos>
								<Point x="24924" y="9472"/>
							</slashPos>
						</TransitionGE>
						<EquationGE presentable="!ed/1846d/2CA1/350/54c6786c2c1e">
							<position>
								<Point x="1720" y="4207"/>
							</position>
							<size>
								<Size width="265" height="555"/>
							</size>
						</EquationGE>
						<EquationGE presentable="!ed/1846e/2CA1/350/54c6786c23a5">
							<position>
								<Point x="1720" y="5239"/>
							</position>
							<size>
								<Size width="265" height="555"/>
							</size>
						</EquationGE>
						<EquationGE presentable="!ed/1846f/2CA1/350/54c6786c2bfb">
							<position>
								<Point x="3043" y="3466"/>
							</position>
							<size>
								<Size width="2318" height="3111"/>
							</size>
						</EquationGE>
						<EquationGE presentable="!ed/18470/2CA1/350/54c6786c70e9">
							<position>
								<Point x="6085" y="6350"/>
							</position>
							<size>
								<Size width="370" height="582"/>
							</size>
						</EquationGE>
						<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/1846f/2CA1/350/54c6786c2bfb" dstEquation="!ed/18470/2CA1/350/54c6786c70e9">
							<positions>
								<Point x="5371" y="5027"/>
								<Point x="6218" y="5027"/>
								<Point x="6218" y="6429"/>
							</positions>
						</Edge>
						<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/1846d/2CA1/350/54c6786c2c1e" dstEquation="!ed/1846f/2CA1/350/54c6786c2bfb">
							<positions>
								<Point x="1984" y="4498"/>
								<Point x="2514" y="4498"/>
								<Point x="2514" y="4498"/>
								<Point x="3043" y="4498"/>
							</positions>
						</Edge>
						<Edge leftVarIndex="1" rightExprIndex="2" srcEquation="!ed/1846e/2CA1/350/54c6786c23a5" dstEquation="!ed/1846f/2CA1/350/54c6786c2bfb">
							<positions>
								<Point x="1984" y="5530"/>
								<Point x="2514" y="5530"/>
								<Point x="2514" y="5530"/>
								<Point x="3043" y="5530"/>
							</positions>
						</Edge>
						<EquationGE presentable="!ed/18471/2CA1/350/54c6786c4842">
							<position>
								<Point x="15901" y="20479"/>
							</position>
							<size>
								<Size width="318" height="503"/>
							</size>
						</EquationGE>
						<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/18471/2CA1/350/54c6786c4842" dstEquation="!ed/1846c/2CA1/350/54c6786c643c">
							<positions>
								<Point x="16219" y="20743"/>
								<Point x="17119" y="20743"/>
								<Point x="17119" y="20743"/>
								<Point x="17992" y="20743"/>
							</positions>
						</Edge>
						<EquationGE presentable="!ed/18472/2CA1/350/54c6786c4fff">
							<position>
								<Point x="2566" y="16801"/>
							</position>
							<size>
								<Size width="265" height="502"/>
							</size>
						</EquationGE>
						<EquationGE presentable="!ed/18475/2CA1/350/54c6786c45bf">
							<position>
								<Point x="9102" y="17489"/>
							</position>
							<size>
								<Size width="370" height="582"/>
							</size>
						</EquationGE>
						<EquationGE presentable="!ed/18476/2CA1/350/54c6786c430a">
							<position>
								<Point x="2381" y="14975"/>
							</position>
							<size>
								<Size width="264" height="503"/>
							</size>
						</EquationGE>
						<EquationGE presentable="!ed/18477/2CA1/350/54c6786c1175">
							<position>
								<Point x="7699" y="16801"/>
							</position>
							<size>
								<Size width="1006" height="662"/>
							</size>
						</EquationGE>
						<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/18476/2CA1/350/54c6786c430a" dstEquation="!ed/18477/2CA1/350/54c6786c1175">
							<positions>
								<Point x="2646" y="15240"/>
								<Point x="7276" y="15240"/>
								<Point x="7276" y="17013"/>
								<Point x="7699" y="17013"/>
							</positions>
						</Edge>
						<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/18477/2CA1/350/54c6786c1175" dstEquation="!ed/18475/2CA1/350/54c6786c45bf">
							<positions>
								<Point x="8705" y="17145"/>
								<Point x="9234" y="17145"/>
								<Point x="9234" y="17568"/>
							</positions>
						</Edge>
						<EquationGE presentable="!ed/13fac/5C5/838/54d9f2b31b88">
							<position>
								<Point x="2858" y="18627"/>
							</position>
							<size>
								<Size width="264" height="502"/>
							</size>
						</EquationGE>
						<EquationGE presentable="!ed/13fd4/5C5/838/54d9f81a133a">
							<position>
								<Point x="4233" y="17621"/>
							</position>
							<size>
								<Size width="1006" height="662"/>
							</size>
						</EquationGE>
						<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/18472/2CA1/350/54c6786c4fff" dstEquation="!ed/13fd4/5C5/838/54d9f81a133a">
							<positions>
								<Point x="2831" y="17066"/>
								<Point x="3519" y="17066"/>
								<Point x="3519" y="17833"/>
								<Point x="4233" y="17833"/>
							</positions>
						</Edge>
						<Edge leftVarIndex="1" rightExprIndex="2" srcEquation="!ed/13fac/5C5/838/54d9f2b31b88" dstEquation="!ed/13fd4/5C5/838/54d9f81a133a">
							<positions>
								<Point x="3122" y="18891"/>
								<Point x="3678" y="18891"/>
								<Point x="3678" y="18071"/>
								<Point x="4233" y="18071"/>
							</positions>
						</Edge>
						<Edge leftVarIndex="1" rightExprIndex="2" srcEquation="!ed/13fd4/5C5/838/54d9f81a133a" dstEquation="!ed/18477/2CA1/350/54c6786c1175">
							<positions>
								<Point x="5239" y="17965"/>
								<Point x="6456" y="17965"/>
								<Point x="6456" y="17251"/>
								<Point x="7699" y="17251"/>
							</positions>
						</Edge>
						<EquationGE presentable="!ed/140e2/5C5/838/54d9fefa75e3">
							<position>
								<Point x="21167" y="6085"/>
							</position>
							<size>
								<Size width="264" height="503"/>
							</size>
						</EquationGE>
						<EquationGE presentable="!ed/140f2/5C5/838/54d9ff0b5388">
							<position>
								<Point x="21299" y="14737"/>
							</position>
							<size>
								<Size width="265" height="502"/>
							</size>
						</EquationGE>
						<EquationGE kind="OBJ_LIT" presentable="!ed/140fc/5C5/838/54d9ff0d1338">
							<position>
								<Point x="20029" y="6191"/>
							</position>
							<size>
								<Size width="212" height="317"/>
							</size>
						</EquationGE>
						<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/140fc/5C5/838/54d9ff0d1338" dstEquation="!ed/140e2/5C5/838/54d9fefa75e3">
							<positions>
								<Point x="20241" y="6350"/>
								<Point x="20690" y="6350"/>
								<Point x="20690" y="6350"/>
								<Point x="21167" y="6350"/>
							</positions>
						</Edge>
						<EquationGE kind="OBJ_LIT" presentable="!ed/14113/5C5/838/54d9ff164fd4">
							<position>
								<Point x="19844" y="14843"/>
							</position>
							<size>
								<Size width="211" height="318"/>
							</size>
						</EquationGE>
						<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/14113/5C5/838/54d9ff164fd4" dstEquation="!ed/140f2/5C5/838/54d9ff0b5388">
							<positions>
								<Point x="20055" y="15002"/>
								<Point x="20664" y="15002"/>
								<Point x="20664" y="15002"/>
								<Point x="21299" y="15002"/>
							</positions>
						</Edge>
						<IfBlockGE presentable="!ed/14126/5C5/838/54d9ffe73fe1">
							<position>
								<Point x="1693" y="7461"/>
							</position>
							<size>
								<Size width="12436" height="6800"/>
							</size>
						</IfBlockGE>
						<ActionGE presentable="!ed/1412c/5C5/838/54d9ffea4951">
							<position>
								<Point x="3731" y="8308"/>
							</position>
							<size>
								<Size width="10054" height="2487"/>
							</size>
						</ActionGE>
						<ActionGE presentable="!ed/1412d/5C5/838/54d9ffea4d40">
							<position>
								<Point x="3757" y="11404"/>
							</position>
							<size>
								<Size width="10054" height="2592"/>
							</size>
						</ActionGE>
						<IfNodeGE labelWidth="1826" presentable="!ed/1412b/5C5/838/54d9ffea4e44">
							<position>
								<Point x="2355" y="8387"/>
							</position>
						</IfNodeGE>
						<EquationGE presentable="!ed/1413a/5C5/838/54da000eece">
							<position>
								<Point x="10769" y="11959"/>
							</position>
							<size>
								<Size width="264" height="503"/>
							</size>
						</EquationGE>
						<EquationGE presentable="!ed/1413b/5C5/838/54da000e5dd">
							<position>
								<Point x="5794" y="11959"/>
							</position>
							<size>
								<Size width="264" height="503"/>
							</size>
						</EquationGE>
						<EquationGE presentable="!ed/1413d/5C5/838/54da000ec77">
							<position>
								<Point x="8890" y="11721"/>
							</position>
							<size>
								<Size width="1005" height="1005"/>
							</size>
						</EquationGE>
						<EquationGE presentable="!ed/14141/5C5/838/54da000e4842">
							<position>
								<Point x="5662" y="13309"/>
							</position>
							<size>
								<Size width="264" height="503"/>
							</size>
						</EquationGE>
						<Edge leftVarIndex="1" rightExprIndex="2" srcEquation="!ed/14141/5C5/838/54da000e4842" dstEquation="!ed/1413d/5C5/838/54da000ec77">
							<positions>
								<Point x="5927" y="13573"/>
								<Point x="9393" y="13573"/>
								<Point x="9393" y="12726"/>
							</positions>
						</Edge>
						<EquationGE presentable="!ed/1414b/5C5/838/54da004c1745">
							<position>
								<Point x="7461" y="9181"/>
							</position>
							<size>
								<Size width="265" height="503"/>
							</size>
						</EquationGE>
						<EquationGE presentable="!ed/1414d/5C5/838/54da004c8ca">
							<position>
								<Point x="9472" y="9181"/>
							</position>
							<size>
								<Size width="265" height="503"/>
							</size>
						</EquationGE>
						<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/1414b/5C5/838/54da004c1745" dstEquation="!ed/1414d/5C5/838/54da004c8ca">
							<positions>
								<Point x="7726" y="9446"/>
								<Point x="8546" y="9446"/>
								<Point x="8546" y="9446"/>
								<Point x="9472" y="9446"/>
							</positions>
						</Edge>
						<EquationGE kind="OBJ_LIT" presentable="!ed/14186/5C5/838/54da020f306f">
							<position>
								<Point x="7435" y="22278"/>
							</position>
							<size>
								<Size width="212" height="317"/>
							</size>
						</EquationGE>
						<EquationGE presentable="!ed/1419c/5C5/838/54da021d4990">
							<position>
								<Point x="8387" y="20241"/>
							</position>
							<size>
								<Size width="1005" height="1005"/>
							</size>
						</EquationGE>
						<Edge leftVarIndex="1" rightExprIndex="2" srcEquation="!ed/14186/5C5/838/54da020f306f" dstEquation="!ed/1419c/5C5/838/54da021d4990">
							<positions>
								<Point x="7646" y="22437"/>
								<Point x="8890" y="22437"/>
								<Point x="8890" y="21246"/>
							</positions>
						</Edge>
						<EquationGE presentable="!ed/141aa/5C5/838/54da022476d7">
							<position>
								<Point x="6403" y="20399"/>
							</position>
							<size>
								<Size width="1006" height="662"/>
							</size>
						</EquationGE>
						<EquationGE presentable="!ed/141b9/5C5/838/54da024b5d34">
							<position>
								<Point x="10478" y="20479"/>
							</position>
							<size>
								<Size width="265" height="503"/>
							</size>
						</EquationGE>
						<EquationGE presentable="!ed/141c0/5C5/838/54da025c1db8">
							<position>
								<Point x="5345" y="20479"/>
							</position>
							<size>
								<Size width="265" height="503"/>
							</size>
						</EquationGE>
						<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/1413d/5C5/838/54da000ec77" dstEquation="!ed/1413a/5C5/838/54da000eece">
							<positions>
								<Point x="9895" y="12224"/>
								<Point x="10319" y="12224"/>
								<Point x="10319" y="12224"/>
								<Point x="10769" y="12224"/>
							</positions>
						</Edge>
						<EquationGE presentable="!ed/141d2/5C5/838/54da03571b5e">
							<position>
								<Point x="6694" y="11880"/>
							</position>
							<size>
								<Size width="1005" height="661"/>
							</size>
						</EquationGE>
						<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/1413b/5C5/838/54da000e5dd" dstEquation="!ed/141d2/5C5/838/54da03571b5e">
							<positions>
								<Point x="6059" y="12224"/>
								<Point x="6376" y="12224"/>
								<Point x="6376" y="12224"/>
								<Point x="6694" y="12224"/>
							</positions>
						</Edge>
						<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/141d2/5C5/838/54da03571b5e" dstEquation="!ed/1413d/5C5/838/54da000ec77">
							<positions>
								<Point x="7699" y="12224"/>
								<Point x="8281" y="12224"/>
								<Point x="8281" y="12224"/>
								<Point x="8890" y="12224"/>
							</positions>
						</Edge>
						<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/1419c/5C5/838/54da021d4990" dstEquation="!ed/141b9/5C5/838/54da024b5d34">
							<positions>
								<Point x="9393" y="20743"/>
								<Point x="9922" y="20743"/>
								<Point x="9922" y="20743"/>
								<Point x="10478" y="20743"/>
							</positions>
						</Edge>
						<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/141aa/5C5/838/54da022476d7" dstEquation="!ed/1419c/5C5/838/54da021d4990">
							<positions>
								<Point x="7408" y="20743"/>
								<Point x="7805" y="20743"/>
								<Point x="7805" y="20743"/>
								<Point x="8387" y="20743"/>
							</positions>
						</Edge>
						<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/141c0/5C5/838/54da025c1db8" dstEquation="!ed/141aa/5C5/838/54da022476d7">
							<positions>
								<Point x="5609" y="20743"/>
								<Point x="6006" y="20743"/>
								<Point x="6006" y="20743"/>
								<Point x="6403" y="20743"/>
							</positions>
						</Edge>
						<EquationGE presentable="!ed/13ff5/4822/610/54e313e64fe">
							<position>
								<Point x="23151" y="18415"/>
							</position>
							<size>
								<Size width="318" height="503"/>
							</size>
						</EquationGE>
						<EquationGE presentable="!ed/13ffe/4822/610/54e313f57c6d">
							<position>
								<Point x="20902" y="18415"/>
							</position>
							<size>
								<Size width="265" height="503"/>
							</size>
						</EquationGE>
						<Edge leftVarIndex="1" rightExprIndex="1" srcEquation="!ed/13ffe/4822/610/54e313f57c6d" dstEquation="!ed/13ff5/4822/610/54e313e64fe">
							<positions>
								<Point x="21167" y="18680"/>
								<Point x="21378" y="18680"/>
								<Point x="21378" y="18680"/>
								<Point x="23204" y="18680"/>
							</positions>
						</Edge>
					</presentationElements>
				</NetDiagram>
			</diagrams>
		</ed:Operator>
	</pragmas>
</Operator>
